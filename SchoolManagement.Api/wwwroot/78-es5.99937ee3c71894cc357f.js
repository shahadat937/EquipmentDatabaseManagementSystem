!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(!e)return;if("string"==typeof e)return t(e,o);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,o)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}function o(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[78],{4078:function(t,o,i){"use strict";i.r(o),i.d(o,{MiscellaneousModule:function(){return ne}});var r=i(61116),l=i(31041),u=i(17647),s=i(39199),c=i(5609),m=i(63589),f=i(84369),d=i(77307),g=i(13841),p=i(72767),h=i(6741),Z=i(67800),b=i(58378),k=i(35366),B=i(78566),T=i(42693),v=i(529),A=function e(){n(this,e),this.items=[]},U=i(91681),q=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=v.N.apiUrl,this.BookUserManualBRInfos=[],this.BookUserManualBRInfoPagination=new A}return a(t,[{key:"getBookUserManualBRInfos",value:function(t,o,a){var n=this,i=new T.LE;return i=(i=(i=i.append("searchText",a.toString())).append("pageNumber",t.toString())).append("pageSize",o.toString()),this.http.get(this.baseUrl+"/book-user-manual-br-info/get-BookUserManualBRInfos",{observe:"response",params:i}).pipe((0,U.U)(function(t){return n.BookUserManualBRInfos=[].concat(e(n.BookUserManualBRInfos),e(t.body.items)),n.BookUserManualBRInfoPagination=t.body,n.BookUserManualBRInfoPagination}))}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}},{key:"getSelectedBookType",value:function(){return this.http.get(this.baseUrl+"/book-type/get-selectedBookType")}},{key:"find",value:function(e){return this.http.get(this.baseUrl+"/book-user-manual-br-info/get-BookUserManualBRInfoDetail/"+e)}},{key:"update",value:function(e,t){return this.http.put(this.baseUrl+"/book-user-manual-br-info/update-BookUserManualBRInfo/"+e,t)}},{key:"submit",value:function(e){return this.http.post(this.baseUrl+"/book-user-manual-br-info/save-BookUserManualBRInfo",e)}},{key:"delete",value:function(e){return this.http.delete(this.baseUrl+"/book-user-manual-br-info/delete-BookUserManualBRInfo/"+e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(k.LFG(T.eN))},t.\u0275prov=k.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),I=i(13070),y=i(87064),S=i(9550),x=i(1325);function N(e,t){if(1&e&&(k.TgZ(0,"mat-option",61),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.Q6J("value",o.value),k.xp6(1),k.hij(" ",o.text," ")}}function M(e,t){1&e&&(k.TgZ(0,"mat-error"),k._uU(1," Book Type is required "),k.qZA())}function R(e,t){1&e&&(k.TgZ(0,"mat-error"),k._uU(1," Book Name required "),k.qZA())}function w(e,t){if(1&e&&(k.TgZ(0,"mat-option",61),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.Q6J("value",o.value),k.xp6(1),k.hij(" ",o.text," ")}}function C(e,t){1&e&&(k.TgZ(0,"mat-error"),k._uU(1," Ship Name is required "),k.qZA())}function _(e,t){1&e&&(k.TgZ(0,"mat-header-cell",62),k._uU(1," Ser. "),k.qZA())}function D(e,t){if(1&e&&(k.TgZ(0,"mat-cell"),k._uU(1),k.qZA()),2&e){var o=t.index,a=k.oxw();k.xp6(1),k.hij(" ",(a.paging.pageIndex-1)*a.paging.pageSize+o+1," ")}}function F(e,t){1&e&&(k.TgZ(0,"mat-header-cell",62),k._uU(1," Book Type "),k.qZA())}function Y(e,t){if(1&e&&(k.TgZ(0,"mat-cell"),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.xp6(1),k.hij(" ",o.bookType," ")}}function J(e,t){1&e&&(k.TgZ(0,"mat-header-cell",62),k._uU(1,"Book Name "),k.qZA())}function z(e,t){if(1&e&&(k.TgZ(0,"mat-cell"),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.xp6(1),k.hij(" ",o.bookName," ")}}function L(e,t){1&e&&(k.TgZ(0,"mat-header-cell",62),k._uU(1," Ship Name "),k.qZA())}function Q(e,t){if(1&e&&(k.TgZ(0,"mat-cell"),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.xp6(1),k.hij(" ",o.shipName," ")}}function O(e,t){1&e&&(k.TgZ(0,"mat-header-cell",62),k._uU(1," Remarks "),k.qZA())}function E(e,t){if(1&e&&(k.TgZ(0,"mat-cell"),k._uU(1),k.qZA()),2&e){var o=t.$implicit;k.xp6(1),k.hij(" ",o.remarks," ")}}function j(e,t){1&e&&(k.TgZ(0,"mat-header-cell",63),k._uU(1,"Actions"),k.qZA())}var P=function(e){return["/miscellaneous/update-bookusermanualbrinfo",e]};function H(e,t){if(1&e){var o=k.EpF();k.TgZ(0,"mat-cell",63),k.TgZ(1,"a",64),k._UZ(2,"i",65),k.qZA(),k._uU(3," | "),k.TgZ(4,"button",66),k.TgZ(5,"mat-icon",67),k._uU(6,"edit"),k.qZA(),k.qZA(),k.TgZ(7,"button",68),k.NdJ("click",function(e){return e.stopPropagation()})("click",function(){var e=k.CHM(o).$implicit;return k.oxw().deleteItem(e)}),k.TgZ(8,"mat-icon",69),k._uU(9,"delete"),k.qZA(),k.qZA(),k.qZA()}if(2&e){var a=t.$implicit;k.xp6(1),k.Q6J("href",a.uploadDocument,k.LSH),k.xp6(3),k.Q6J("routerLink",k.VKq(2,P,a.bookUserManualBRInfoId))}}function $(e,t){1&e&&k._UZ(0,"mat-header-row")}function X(e,t){1&e&&k._UZ(0,"mat-row")}var G,K=function(){var e=function(){function e(t,o,a,i,r,l){n(this,e),this.snackBar=t,this.confirmService=o,this.BookUserManualBRInfoService=a,this.fb=i,this.router=r,this.route=l,this.validationErrors=[],this.masterData=Z.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","bookType","bookName","shipName","remarks","actions"],this.dataSource=new s.by,this.selection=new b.Ov(!0,[])}return a(e,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot.paramMap.get("bookUserManualBRInfoId");t?(this.pageTitle="Edit Book User Manual & BR Info",this.destination="Edit",this.btnText="Update",this.BookUserManualBRInfoService.find(+t).subscribe(function(t){e.BookUserManualBRInfoForm.patchValue({bookUserManualBRInfoId:t.bookUserManualBRInfoId,bookTypeId:t.bookTypeId,baseSchoolNameId:t.baseSchoolNameId,bookName:t.bookName,uploadDocument:t.uploadDocument,remarks:t.remarks,menuPosition:t.menuPosition,isActive:t.isActive})})):(this.pageTitle="Create Book User Manual & BR Info",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.getBookUserManualBRInfos(),this.getSelectedSchoolByBranchLevelAndThirdLevel(),this.getSelectedBookType()}},{key:"intitializeForm",value:function(){this.BookUserManualBRInfoForm=this.fb.group({bookUserManualBRInfoId:[0],bookTypeId:[""],baseSchoolNameId:[""],bookName:["",l.kI.required],uploadDocument:[""],document:[""],remarks:[""],menuPosition:[""],isActive:[!0]})}},{key:"onFileChanged",value:function(e){if(e.target.files.length>0){var t=e.target.files[0];console.log(t),this.BookUserManualBRInfoForm.patchValue({document:t})}}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){var e=this;this.BookUserManualBRInfoService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(function(t){e.selectedBaseSchoolName=t,console.log(t)})}},{key:"getSelectedBookType",value:function(){var e=this;this.BookUserManualBRInfoService.getSelectedBookType().subscribe(function(t){e.selectedBookType=t,console.log(t),console.log(t)})}},{key:"pageChanged",value:function(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getBookUserManualBRInfos()}},{key:"applyFilter",value:function(e){this.searchText=e,this.getBookUserManualBRInfos()}},{key:"getBookUserManualBRInfos",value:function(){var e=this;this.isLoading=!0,this.BookUserManualBRInfoService.getBookUserManualBRInfos(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(function(t){e.dataSource.data=t.items,e.paging.length=t.totalItemsCount,e.isLoading=!1})}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}},{key:"deleteItem",value:function(e){var t=this,o=e.bookUserManualBRInfoId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(function(e){console.log(e),e&&t.BookUserManualBRInfoService.delete(o).subscribe(function(){t.getBookUserManualBRInfos(),t.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}},{key:"onSubmit",value:function(){for(var e=this,t=this.BookUserManualBRInfoForm.get("bookUserManualBRInfoId").value,o=new FormData,a=0,n=Object.keys(this.BookUserManualBRInfoForm.value);a<n.length;a++){var i=n[a];o.append(i,this.BookUserManualBRInfoForm.value[i])}t?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(function(a){a&&e.BookUserManualBRInfoService.update(+t,o).subscribe(function(t){e.router.navigateByUrl("/miscellaneous/add-bookusermanualbrinfo"),e.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}):this.BookUserManualBRInfoService.submit(o).subscribe(function(t){e.reloadCurrentRoute(),e.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(k.Y36(m.ux),k.Y36(B.z),k.Y36(q),k.Y36(l.qu),k.Y36(p.F0),k.Y36(p.gz))},e.\u0275cmp=k.Xpm({type:e,selectors:[["app-new-bookusermanualbrinfo"]],decls:108,vars:18,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","bookTypeId","required",""],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","bookName","required",""],["formControlName","baseSchoolNameId","required",""],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-3","mb-2"],["accept",".txt,.pdf,.xls,.xlsx,.doc,.docx,.ppt,.pptx",3,"change"],["matSuffix",""],["matInput","","formControlName","remarks"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-4"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-8"],[1,"col-12"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","ser"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","bookType"],["matColumnDef","bookName"],["matColumnDef","shipName"],["matColumnDef","remarks"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],[3,"value"],["mat-sort-header",""],[1,"pr-0"],["target","_blank",3,"href"],["matTooltip","Documents",1,"far","fa-file-pdf","tbl-pdf"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,t){1&e&&(k.TgZ(0,"section",0),k.TgZ(1,"div",1),k.TgZ(2,"div",2),k.TgZ(3,"div",3),k.TgZ(4,"div",4),k.TgZ(5,"ul",5),k.TgZ(6,"li",6),k.TgZ(7,"h4",7),k._uU(8),k.qZA(),k.qZA(),k.TgZ(9,"li",8),k.TgZ(10,"a",9),k._UZ(11,"i",10),k.qZA(),k.qZA(),k.TgZ(12,"li",11),k.TgZ(13,"a",12),k._uU(14,"Book User Manual & BR Info"),k.qZA(),k.qZA(),k.TgZ(15,"li",13),k._uU(16),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.TgZ(17,"div",14),k.TgZ(18,"div",15),k.TgZ(19,"div",16),k.TgZ(20,"div",17),k.TgZ(21,"form",18),k.NdJ("ngSubmit",function(){return t.onSubmit()}),k.TgZ(22,"div",3),k.TgZ(23,"div",19),k.TgZ(24,"mat-form-field",20),k.TgZ(25,"mat-label"),k._uU(26,"Book Type"),k.qZA(),k.TgZ(27,"mat-select",21),k.TgZ(28,"mat-option",22),k._uU(29,"--Select--"),k.qZA(),k.YNc(30,N,2,2,"mat-option",23),k.qZA(),k.YNc(31,M,2,0,"mat-error",24),k.qZA(),k.qZA(),k.TgZ(32,"div",19),k.TgZ(33,"mat-form-field",20),k.TgZ(34,"mat-label"),k._uU(35,"Book Name"),k.qZA(),k._UZ(36,"input",25),k.YNc(37,R,2,0,"mat-error",24),k.qZA(),k.qZA(),k.TgZ(38,"div",19),k.TgZ(39,"mat-form-field",20),k.TgZ(40,"mat-label"),k._uU(41,"Ship Name "),k.qZA(),k.TgZ(42,"mat-select",26),k.TgZ(43,"mat-option",22),k._uU(44,"--Select--"),k.qZA(),k.YNc(45,w,2,2,"mat-option",23),k.qZA(),k.YNc(46,C,2,0,"mat-error",24),k.qZA(),k.qZA(),k.TgZ(47,"div",27),k.TgZ(48,"mat-form-field",20),k.TgZ(49,"mat-label"),k._uU(50,"Upload File(Browse)"),k.qZA(),k.TgZ(51,"ngx-mat-file-input",28),k.NdJ("change",function(e){return t.onFileChanged(e)}),k.qZA(),k.TgZ(52,"mat-icon",29),k._uU(53,"attachment"),k.qZA(),k.qZA(),k.qZA(),k.TgZ(54,"div",19),k.TgZ(55,"mat-form-field",20),k.TgZ(56,"mat-label"),k._uU(57,"Remarks"),k.qZA(),k._UZ(58,"input",30),k.qZA(),k.qZA(),k.qZA(),k.TgZ(59,"div",3),k.TgZ(60,"div",31),k.TgZ(61,"button",32),k._uU(62),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.TgZ(63,"div",3),k.TgZ(64,"div",33),k.TgZ(65,"div",16),k.TgZ(66,"div",17),k.TgZ(67,"div",34),k.TgZ(68,"div",35),k.TgZ(69,"div",3),k.TgZ(70,"div",36),k.TgZ(71,"ul",37),k.TgZ(72,"li",38),k.TgZ(73,"input",39,40),k.NdJ("ngModelChange",function(e){return t.searchText=e}),k.qZA(),k.qZA(),k.TgZ(75,"li"),k.TgZ(76,"div",41),k.TgZ(77,"button",42),k.NdJ("click",function(){return t.applyFilter(t.searchText)}),k.TgZ(78,"mat-icon",43),k._uU(79,"search"),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.TgZ(80,"div",44),k.TgZ(81,"ul",37),k.TgZ(82,"li"),k.TgZ(83,"h3",45),k._uU(84," Book User Manual & BR Info List"),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.TgZ(85,"mat-table",46,47),k.ynx(87,48),k.YNc(88,_,2,0,"mat-header-cell",49),k.YNc(89,D,2,1,"mat-cell",50),k.BQk(),k.ynx(90,51),k.YNc(91,F,2,0,"mat-header-cell",49),k.YNc(92,Y,2,1,"mat-cell",50),k.BQk(),k.ynx(93,52),k.YNc(94,J,2,0,"mat-header-cell",49),k.YNc(95,z,2,1,"mat-cell",50),k.BQk(),k.ynx(96,53),k.YNc(97,L,2,0,"mat-header-cell",49),k.YNc(98,Q,2,1,"mat-cell",50),k.BQk(),k.ynx(99,54),k.YNc(100,O,2,0,"mat-header-cell",49),k.YNc(101,E,2,1,"mat-cell",50),k.BQk(),k.ynx(102,55),k.YNc(103,j,2,0,"mat-header-cell",56),k.YNc(104,H,10,4,"mat-cell",57),k.BQk(),k.YNc(105,$,1,0,"mat-header-row",58),k.YNc(106,X,1,0,"mat-row",59),k.qZA(),k.TgZ(107,"mat-paginator",60),k.NdJ("page",function(e){return t.pageChanged(e)}),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA(),k.qZA()),2&e&&(k.xp6(8),k.Oqu(t.pageTitle),k.xp6(8),k.Oqu(t.destination),k.xp6(5),k.Q6J("formGroup",t.BookUserManualBRInfoForm),k.xp6(9),k.Q6J("ngForOf",t.selectedBookType),k.xp6(1),k.Q6J("ngIf",t.BookUserManualBRInfoForm.get("bookTypeId").hasError("required")),k.xp6(6),k.Q6J("ngIf",t.BookUserManualBRInfoForm.get("bookName").hasError("required")),k.xp6(8),k.Q6J("ngForOf",t.selectedBaseSchoolName),k.xp6(1),k.Q6J("ngIf",t.BookUserManualBRInfoForm.get("baseSchoolNameId").hasError("required")),k.xp6(15),k.Q6J("disabled",!t.BookUserManualBRInfoForm.valid),k.xp6(1),k.Oqu(t.btnText),k.xp6(11),k.Q6J("ngModel",t.searchText),k.xp6(12),k.Q6J("dataSource",t.dataSource),k.xp6(20),k.Q6J("matHeaderRowDef",t.displayedColumns),k.xp6(1),k.Q6J("matRowDefColumns",t.displayedColumns),k.xp6(1),k.Q6J("length",t.paging.length)("showFirstLastButtons",t.masterData.paging.showFirstLastButtons)("pageSize",t.paging.pageSize)("pageSizeOptions",t.masterData.paging.pageSizeOptions))},directives:[p.yS,l._Y,l.JL,l.sg,I.KE,I.hX,g.gD,l.JJ,l.u,l.Q7,y.ey,r.sg,r.O5,S.Nt,l.Fj,x.Yh,d.Hw,I.R9,f.lW,l.On,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,c.NW,I.TO,s.ge,s.ev,p.rH,s.XQ,s.Gk],styles:[""]}),e}(),V=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"update-bookusermanualbrinfo/:bookUserManualBRInfoId",component:K},{path:"add-bookusermanualbrinfo",component:K},{path:"**",component:h.J}],W=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=k.oAB({type:e}),e.\u0275inj=k.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),e}(),ee=i(44716),te=i(69024),oe=i(87672),ae=i(79961),ne=((G=function e(){n(this,e)}).\u0275fac=function(e){return new(e||G)},G.\u0275mod=k.oAB({type:G}),G.\u0275inj=k.cJS({imports:[[r.ez,W,r.ez,l.u5,l.UX,u.xD,s.p0,c.TU,I.lN,S.c,ee.T5,m.ZX,f.ot,d.Ps,g.LD,te.FA,y.XK,x.Ad,oe.Cq,T.JF,ae.Bb]]}),G)}}])}();