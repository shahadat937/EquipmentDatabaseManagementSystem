(self.webpackChunksmart=self.webpackChunksmart||[]).push([[320],{21320:function(e,t,n){"use strict";n.r(t),n.d(t,{ShipsReturnModule:function(){return qe}});var r=n(61116),i=n(31041),o=n(17647),a=n(39199),l=n(5609),s=n(63589),u=n(84369),c=n(77307),g=n(13841),h=n(72767),m=n(6741),d=n(67800),p=n(94200),Z=n(35366),f=n(28086),q=n(28872),b=n(78566),y=n(42693),T=n(529);class A{constructor(){this.items=[]}}var S=n(91681);let v=(()=>{class e{constructor(e){this.http=e,this.baseUrl=T.N.apiUrl,this.MonthlyReturns=[],this.MonthlyReturnPagination=new A}getMonthlyReturns(e,t,n){let r=new y.LE;return r=r.append("searchText",n.toString()),r=r.append("pageNumber",e.toString()),r=r.append("pageSize",t.toString()),this.http.get(this.baseUrl+"/monthly-return/get-MonthlyReturns",{observe:"response",params:r}).pipe((0,S.U)(e=>(this.MonthlyReturns=[...this.MonthlyReturns,...e.body.items],this.MonthlyReturnPagination=e.body,this.MonthlyReturnPagination)))}find(e){return this.http.get(this.baseUrl+"/monthly-return/get-MonthlyReturnDetail/"+e)}getSelectedSchoolByBranchLevelAndThirdLevel(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}getSelectedEquipmentNameByCategory(e){return this.http.get(this.baseUrl+"/equpment-name/get-selectedEqupmentNameByCategory?equepmentCategoryId="+e)}getSelectedOperationalStatus(){return this.http.get(this.baseUrl+"/operational-status/get-selectedOperationalStatus")}getSelectedEquipmentCategory(){return this.http.get(this.baseUrl+"/equipment-category/get-selectedEquipmentCategory")}getSelectedReportingMonth(){return this.http.get(this.baseUrl+"/reporting-month/get-selectedReportingMonth")}getSelectedReturnType(){return this.http.get(this.baseUrl+"/return-type/get-selectedReturnType")}update(e,t){return this.http.put(this.baseUrl+"/monthly-return/update-MonthlyReturn/"+e,t)}submit(e){return this.http.post(this.baseUrl+"/monthly-return/save-MonthlyReturn",e)}delete(e){return this.http.delete(this.baseUrl+"/monthly-return/delete-MonthlyReturn/"+e)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(y.eN))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=n(13070),x=n(87064),R=n(9550),U=n(69024),C=n(1325);function N(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function Y(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Ship Name is required "),Z.qZA())}function _(e,t){if(1&e&&(Z.TgZ(0,"div",20),Z.TgZ(1,"mat-form-field",21),Z.TgZ(2,"mat-label"),Z._uU(3,"Ship Name "),Z.qZA(),Z.TgZ(4,"mat-select",42),Z.TgZ(5,"mat-option",23),Z._uU(6,"--Select--"),Z.qZA(),Z.YNc(7,N,2,2,"mat-option",24),Z.qZA(),Z.YNc(8,Y,2,0,"mat-error",25),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(7),Z.Q6J("ngForOf",e.selectedBaseSchoolName),Z.xp6(1),Z.Q6J("ngIf",e.MonthlyReturnForm.get("baseSchoolNameId").hasError("required"))}}function E(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function w(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Equipment Category is required "),Z.qZA())}function F(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function M(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Equipment Name is required "),Z.qZA())}function L(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Reporting Date is Required "),Z.qZA())}function H(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function k(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Reporting Month is required "),Z.qZA())}function D(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Damage Description is required "),Z.qZA())}function J(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function O(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Return Type is required "),Z.qZA())}function B(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Damage Description is required "),Z.qZA())}function Q(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Time Of Defect is Required "),Z.qZA())}function z(e,t){if(1&e&&(Z.TgZ(0,"mat-option",43),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function P(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Operational Status is required "),Z.qZA())}let j=(()=>{class e{constructor(e,t,n,r,i,o,a,l){this.snackBar=e,this.authService=t,this.baseSchoolNameService=n,this.confirmService=r,this.MonthlyReturnService=i,this.fb=o,this.router=a,this.route=l,this.userRole=p.u,this.validationErrors=[],this.masterData=d.O,this.ELEMENT_DATA=[],this.showHideDiv=!1,this.isLoading=!1,this.itemCount=0}ngOnInit(){this.role=this.authService.currentUserValue.role.trim(),this.traineeId=this.authService.currentUserValue.traineeId.trim(),this.branchId=this.authService.currentUserValue.branchId.trim(),console.log(this.role,this.traineeId,this.branchId);const e=this.route.snapshot.paramMap.get("damageElectricalId");e?(this.pageTitle="Edit Damage Electrical/Radio Electrical Equipment",this.destination="Edit",this.btnText="Update",this.MonthlyReturnService.find(+e).subscribe(e=>{this.MonthlyReturnForm.patchValue({monthlyReturnId:e.monthlyReturnId,authorityId:e.authorityId,baseNameId:e.baseNameId,baseSchoolNameId:e.baseSchoolNameId,equipmentCategoryId:e.equipmentCategoryId,equpmentNameId:e.equpmentNameId,reportingMonthId:e.reportingMonthId,returnTypeId:e.returnTypeId,operationalStatusId:e.operationalStatusId,damageDescription:e.damageDescription,presentCondition:e.presentCondition,reportingDate:e.reportingDate,timeOfDefect:e.timeOfDefect,uploadDocument:e.uploadDocument,remarks:e.remarks,menuPosition:e.menuPosition,isActive:e.isActive}),this.onEquipmentCategorySelectionChange()})):(this.pageTitle="Damage Electrical/Radio Electrical Equipment",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.role!=this.userRole.ShipStaff&&this.role!=this.userRole.LOEO||(this.MonthlyReturnForm.get("baseSchoolNameId").setValue(this.branchId),this.baseSchoolNameService.find(this.branchId).subscribe(e=>{console.log(e),this.MonthlyReturnForm.get("baseNameId").setValue(e.thirdLevel),this.MonthlyReturnForm.get("authorityId").setValue(e.secondLevel)})),this.getSelectedEquipmentCategory(),this.getSelectedReportingMonth(),this.getSelectedReturnType(),this.getSelectedOperationalStatus(),this.getSelectedSchoolByBranchLevelAndThirdLevel()}intitializeForm(){this.MonthlyReturnForm=this.fb.group({monthlyReturnId:[0],authorityId:[""],baseNameId:[""],baseSchoolNameId:[],equipmentCategoryId:[""],equpmentNameId:[""],reportingMonthId:[""],returnTypeId:[""],operationalStatusId:[""],damageDescription:[""],presentCondition:[""],reportingDate:[""],timeOfDefect:[""],uploadDocument:[""],remarks:[""],menuPosition:[1],isActive:[!0],doc:[""]})}onFileChanged(e){if(e.target.files.length>0){const t=e.target.files[0];console.log(t),this.MonthlyReturnForm.patchValue({doc:t})}}getSelectedSchoolByBranchLevelAndThirdLevel(){this.MonthlyReturnService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(e=>{this.selectedBaseSchoolName=e,console.log(e)})}onEquipmentCategorySelectionChange(){this.MonthlyReturnService.getSelectedEquipmentNameByCategory(this.MonthlyReturnForm.value.equipmentCategoryId).subscribe(e=>{this.selectedEquipmentNameByCategory=e,console.log(e),console.log(e)})}getSelectedEquipmentCategory(){this.MonthlyReturnService.getSelectedEquipmentCategory().subscribe(e=>{this.selectedEquipmentCategory=e,console.log(e),console.log(e)})}getSelectedReportingMonth(){this.MonthlyReturnService.getSelectedReportingMonth().subscribe(e=>{this.selectedReportingMonth=e,console.log(e),console.log(e)})}getSelectedReturnType(){this.MonthlyReturnService.getSelectedReturnType().subscribe(e=>{this.selectedReturnType=e,console.log(e),console.log(e)})}getSelectedOperationalStatus(){this.MonthlyReturnService.getSelectedOperationalStatus().subscribe(e=>{this.selectedOperationalStatus=e,console.log(e),console.log(e)})}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}deleteItem(e){const t=e.monthlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(e=>{console.log(e),e&&this.MonthlyReturnService.delete(t).subscribe(()=>{this.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}onSubmit(){const e=this.MonthlyReturnForm.get("monthlyReturnId").value;this.MonthlyReturnForm.get("reportingDate").setValue(new Date(this.MonthlyReturnForm.get("reportingDate").value).toUTCString()),this.MonthlyReturnForm.get("timeOfDefect").setValue(new Date(this.MonthlyReturnForm.get("timeOfDefect").value).toUTCString());const t=new FormData;for(const n of Object.keys(this.MonthlyReturnForm.value))t.append(n,this.MonthlyReturnForm.value[n]);console.log(this.MonthlyReturnForm.value),e?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(n=>{n&&this.MonthlyReturnService.update(+e,t).subscribe(e=>{this.router.navigateByUrl("/ships-return/monthlyreturn-list"),this.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}):this.MonthlyReturnService.submit(t).subscribe(e=>{this.router.navigateByUrl("/ships-return/monthlyreturn-list"),this.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(s.ux),Z.Y36(f.e),Z.Y36(q.z),Z.Y36(b.z),Z.Y36(v),Z.Y36(i.qu),Z.Y36(h.F0),Z.Y36(h.gz))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-new-monthlyreturn"]],decls:110,vars:24,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-12 mb-2",4,"ngIf"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","equipmentCategoryId","required","",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","equpmentNameId","required",""],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-3","mb-2"],["matInput","","formControlName","reportingDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["reportingDate",""],["formControlName","reportingMonthId","required",""],["matInput","","formControlName","damageDescription","required",""],["formControlName","returnTypeId","required",""],["matInput","","formControlName","presentCondition","required",""],["matInput","","formControlName","timeOfDefect","required","",3,"matDatepicker"],["timeOfDefect",""],["accept",".txt,.pdf,.xls,.xlsx,.doc,.docx,.ppt,.pptx",3,"change"],["matSuffix",""],["formControlName","operationalStatusId","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["formControlName","baseSchoolNameId","required",""],[3,"value"]],template:function(e,t){if(1&e&&(Z.TgZ(0,"section",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"ul",5),Z.TgZ(6,"li",6),Z.TgZ(7,"h4",7),Z._uU(8),Z.qZA(),Z.qZA(),Z.TgZ(9,"li",8),Z.TgZ(10,"a",9),Z._UZ(11,"i",10),Z.qZA(),Z.qZA(),Z.TgZ(12,"li",11),Z.TgZ(13,"a",12),Z._uU(14,"Equpment Name"),Z.qZA(),Z.qZA(),Z.TgZ(15,"li",13),Z._uU(16),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",14),Z.TgZ(18,"div",15),Z.TgZ(19,"div",16),Z.TgZ(20,"div",17),Z.TgZ(21,"form",18),Z.NdJ("ngSubmit",function(){return t.onSubmit()}),Z.TgZ(22,"div",3),Z.YNc(23,_,9,2,"div",19),Z.TgZ(24,"div",20),Z.TgZ(25,"mat-form-field",21),Z.TgZ(26,"mat-label"),Z._uU(27,"Equipment Category "),Z.qZA(),Z.TgZ(28,"mat-select",22),Z.NdJ("selectionChange",function(){return t.onEquipmentCategorySelectionChange()}),Z.TgZ(29,"mat-option",23),Z._uU(30,"--Select--"),Z.qZA(),Z.YNc(31,E,2,2,"mat-option",24),Z.qZA(),Z.YNc(32,w,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(33,"div",20),Z.TgZ(34,"mat-form-field",21),Z.TgZ(35,"mat-label"),Z._uU(36,"Equipment Name "),Z.qZA(),Z.TgZ(37,"mat-select",26),Z.TgZ(38,"mat-option",23),Z._uU(39,"--Select--"),Z.qZA(),Z.YNc(40,F,2,2,"mat-option",24),Z.qZA(),Z.YNc(41,M,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(42,"div",27),Z.TgZ(43,"mat-form-field",21),Z.TgZ(44,"mat-label"),Z._uU(45,"Reporting Date"),Z.qZA(),Z._UZ(46,"input",28),Z._UZ(47,"mat-datepicker-toggle",29),Z._UZ(48,"mat-datepicker",null,30),Z.YNc(50,L,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(51,"div",20),Z.TgZ(52,"mat-form-field",21),Z.TgZ(53,"mat-label"),Z._uU(54,"Reporting Month"),Z.qZA(),Z.TgZ(55,"mat-select",31),Z.TgZ(56,"mat-option",23),Z._uU(57,"--Select--"),Z.qZA(),Z.YNc(58,H,2,2,"mat-option",24),Z.qZA(),Z.YNc(59,k,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(60,"div",20),Z.TgZ(61,"mat-form-field",21),Z.TgZ(62,"mat-label"),Z._uU(63,"Damage Description"),Z.qZA(),Z._UZ(64,"textarea",32),Z.YNc(65,D,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(66,"div",20),Z.TgZ(67,"mat-form-field",21),Z.TgZ(68,"mat-label"),Z._uU(69,"Return Type"),Z.qZA(),Z.TgZ(70,"mat-select",33),Z.TgZ(71,"mat-option",23),Z._uU(72,"--Select--"),Z.qZA(),Z.YNc(73,J,2,2,"mat-option",24),Z.qZA(),Z.YNc(74,O,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(75,"div",20),Z.TgZ(76,"mat-form-field",21),Z.TgZ(77,"mat-label"),Z._uU(78,"Description of Present Condition"),Z.qZA(),Z._UZ(79,"textarea",34),Z.YNc(80,B,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(81,"div",27),Z.TgZ(82,"mat-form-field",21),Z.TgZ(83,"mat-label"),Z._uU(84,"Time Of Defect"),Z.qZA(),Z._UZ(85,"input",35),Z._UZ(86,"mat-datepicker-toggle",29),Z._UZ(87,"mat-datepicker",null,36),Z.YNc(89,Q,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(90,"div",20),Z.TgZ(91,"mat-form-field",21),Z.TgZ(92,"mat-label"),Z._uU(93,"File Upload"),Z.qZA(),Z.TgZ(94,"ngx-mat-file-input",37),Z.NdJ("change",function(e){return t.onFileChanged(e)}),Z.qZA(),Z.TgZ(95,"mat-icon",38),Z._uU(96,"attachment"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(97,"div",20),Z.TgZ(98,"mat-form-field",21),Z.TgZ(99,"mat-label"),Z._uU(100,"Operational Status"),Z.qZA(),Z.TgZ(101,"mat-select",39),Z.TgZ(102,"mat-option",23),Z._uU(103,"--Select--"),Z.qZA(),Z.YNc(104,z,2,2,"mat-option",24),Z.qZA(),Z.YNc(105,P,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(106,"div",3),Z.TgZ(107,"div",40),Z.TgZ(108,"button",41),Z._uU(109),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.MAs(49),n=Z.MAs(88);Z.xp6(8),Z.Oqu(t.pageTitle),Z.xp6(8),Z.Oqu(t.destination),Z.xp6(5),Z.Q6J("formGroup",t.MonthlyReturnForm),Z.xp6(2),Z.Q6J("ngIf",t.role!=t.userRole.ShipStaff&&t.role!=t.userRole.LOEO),Z.xp6(8),Z.Q6J("ngForOf",t.selectedEquipmentCategory),Z.xp6(1),Z.Q6J("ngIf",t.MonthlyReturnForm.get("equipmentCategoryId").hasError("required")),Z.xp6(8),Z.Q6J("ngForOf",t.selectedEquipmentNameByCategory),Z.xp6(1),Z.Q6J("ngIf",t.MonthlyReturnForm.get("equpmentNameId").hasError("required")),Z.xp6(5),Z.Q6J("matDatepicker",e),Z.xp6(1),Z.Q6J("for",e),Z.xp6(3),Z.Q6J("ngIf",t.MonthlyReturnForm.get("reportingDate").hasError("required")),Z.xp6(8),Z.Q6J("ngForOf",t.selectedReportingMonth),Z.xp6(1),Z.Q6J("ngIf",t.MonthlyReturnForm.get("reportingMonthId").hasError("required")),Z.xp6(6),Z.Q6J("ngIf",t.MonthlyReturnForm.get("damageDescription").hasError("required")),Z.xp6(8),Z.Q6J("ngForOf",t.selectedReturnType),Z.xp6(1),Z.Q6J("ngIf",t.MonthlyReturnForm.get("returnTypeId").hasError("required")),Z.xp6(6),Z.Q6J("ngIf",t.MonthlyReturnForm.get("presentCondition").hasError("required")),Z.xp6(5),Z.Q6J("matDatepicker",n),Z.xp6(1),Z.Q6J("for",n),Z.xp6(3),Z.Q6J("ngIf",t.MonthlyReturnForm.get("timeOfDefect").hasError("required")),Z.xp6(15),Z.Q6J("ngForOf",t.selectedOperationalStatus),Z.xp6(1),Z.Q6J("ngIf",t.MonthlyReturnForm.get("operationalStatusId").hasError("required")),Z.xp6(3),Z.Q6J("disabled",!t.MonthlyReturnForm.valid),Z.xp6(1),Z.Oqu(t.btnText)}},directives:[h.yS,i._Y,i.JL,i.sg,r.O5,I.KE,I.hX,g.gD,i.JJ,i.u,i.Q7,x.ey,r.sg,R.Nt,i.Fj,U.hl,U.nW,I.R9,U.Mq,C.Yh,c.Hw,u.lW,I.TO],styles:[""]}),e})();var V=n(58378);const $=function(e){return["/ships-return/update-monthly",e]};function G(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.qZA(),Z.TgZ(11,"td",41),Z.TgZ(12,"a",42),Z._UZ(13,"i",43),Z.qZA(),Z.TgZ(14,"button",44),Z.TgZ(15,"mat-icon",45),Z._uU(16,"edit"),Z.qZA(),Z.qZA(),Z.TgZ(17,"button",46),Z.NdJ("click",function(e){return e.stopPropagation()})("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw().deleteItem(t)}),Z.TgZ(18,"mat-icon",47),Z._uU(19,"delete"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit;Z.xp6(2),Z.hij(" ",e.equipmentCategory," "),Z.xp6(2),Z.hij(" ",e.equpmentName," "),Z.xp6(2),Z.hij(" ",e.returnType," "),Z.xp6(2),Z.hij(" ",e.reportingMonth," "),Z.xp6(2),Z.hij(" ",e.operationalStatus," "),Z.xp6(2),Z.Q6J("href",e.uploadDocument,Z.LSH),Z.xp6(2),Z.Q6J("routerLink",Z.VKq(7,$,e.monthlyReturnId))}}let X=(()=>{class e{constructor(e,t,n,r){this.snackBar=e,this.MonthlyReturnService=t,this.router=n,this.confirmService=r,this.masterData=d.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.fileUrl="https://localhost:44395/content/",this.showHideDiv=!1,this.itemCount=0,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","authorityName","baseName","baseSchoolName","sqnName","operationalStatus","actions"],this.dataSource=new a.by,this.selection=new V.Ov(!0,[])}ngOnInit(){this.getMonthlyReturns()}getMonthlyReturns(){this.isLoading=!0,this.MonthlyReturnService.getMonthlyReturns(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(e=>{this.dataSource.data=e.items,this.paging.length=e.totalItemsCount,this.isLoading=!1,console.log(this.dataSource.data),this.itemCount=e.items.length,console.log("itemCountdata"),console.log(this.dataSource.data)})}pageChanged(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getMonthlyReturns()}applyFilter(e){this.searchText=e,this.getMonthlyReturns()}toggle(){this.showHideDiv=!this.showHideDiv}printSingle(){this.showHideDiv=!1,this.print()}print(){let e,t;e=document.getElementById("print-routine").innerHTML,t=window.open("top=0,left=0,height=100%,width=auto"),t.document.open(),t.document.write(`\n      <html>\n        <head>\n          <style>\n          body{  width: 99%;}\n            label { font-weight: 400;\n                    font-size: 13px;\n                    padding: 2px;\n                    margin-bottom: 5px;\n                  }\n            table, td, th {\n                  border: 1px solid silver;\n                    }\n                    table td {\n                  font-size: 13px;\n                    }\n                    .table.table.tbl-by-group.db-li-s-in tr .cl-action{\n                      display: none;\n                    }\n        \n                    .table.table.tbl-by-group.db-li-s-in tr td .cl-action{\n                      text-align:center;\n                      padding: 0px 5px;\n                    }\n                    \n                  }\n                  .table.table.tbl-by-group.db-li-s-in tr .btn-tbl-edit {\n                    display:none;\n                  }\n                  \n                    \n                    table th {\n                  font-size: 13px;\n                    }\n              table {\n                    border-collapse: collapse;\n                    width: 98%;\n                    }\n                th {\n                    height: 26px;\n                    }\n                .header-text{\n                  text-align:center;\n                }\n                .header-text h3{\n                  margin:0;\n                }\n          </style>\n        </head>\n        <body onload="window.print();window.close()">\n          <div class="header-text">\n          <h3>Ship Info List</h3>\n          \n          </div>\n          <br>\n          <hr>\n          ${e}\n          \n        </body>\n      </html>`),t.document.close()}deleteItem(e){const t=e.monthlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(e=>{console.log(e),e&&this.MonthlyReturnService.delete(t).subscribe(()=>{this.getMonthlyReturns(),this.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(s.ux),Z.Y36(v),Z.Y36(h.F0),Z.Y36(b.z))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-monthlyreturn-list"]],decls:75,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"count-value"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-raised-button","","color","primary","routerLink","/ships-return/add-monthly",1,"btn-space"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["id","print-routine"],[1,"table","tbl-by-group","db-li-s-in"],[1,"cl-mrk-rmrk"],[1,"cl-mrk"],[1,"cl-mrk-opl"],[1,"cl-action"],[4,"ngFor","ngForOf"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],[1,"col","table-img","img-on-hover"],["target","_blank",3,"href"],["matTooltip","File",1,"far","fa-file-pdf","tbl-pdf"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,t){1&e&&(Z.TgZ(0,"section",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"ul",5),Z.TgZ(6,"li",6),Z.TgZ(7,"h4",7),Z._uU(8,"Monthly Return"),Z.qZA(),Z.qZA(),Z.TgZ(9,"li",8),Z.TgZ(10,"a",9),Z._UZ(11,"i",10),Z.qZA(),Z.qZA(),Z.TgZ(12,"li",11),Z.TgZ(13,"a",12),Z._uU(14,"Ship Information"),Z.qZA(),Z.qZA(),Z.TgZ(15,"li",13),Z._uU(16,"All"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",3),Z.TgZ(18,"div",14),Z.TgZ(19,"div",15),Z.TgZ(20,"div",16),Z.TgZ(21,"div",17),Z.TgZ(22,"div",18),Z.TgZ(23,"div",3),Z.TgZ(24,"div",19),Z.TgZ(25,"ul",20),Z.TgZ(26,"li"),Z.TgZ(27,"h5",21),Z._uU(28),Z.qZA(),Z.qZA(),Z.TgZ(29,"li",22),Z.TgZ(30,"input",23,24),Z.NdJ("ngModelChange",function(e){return t.searchText=e}),Z.qZA(),Z.qZA(),Z.TgZ(32,"li"),Z.TgZ(33,"div",25),Z.TgZ(34,"button",26),Z.NdJ("click",function(){return t.applyFilter(t.searchText)}),Z.TgZ(35,"mat-icon",27),Z._uU(36,"search"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(37,"li"),Z.TgZ(38,"h3"),Z._uU(39," Monthly Return List"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(40,"div",28),Z.TgZ(41,"ul",29),Z.TgZ(42,"li"),Z.TgZ(43,"div",30),Z.TgZ(44,"button",31),Z._uU(45," Add "),Z.TgZ(46,"mat-icon",27),Z._uU(47,"add"),Z.qZA(),Z.qZA(),Z.TgZ(48,"button",32),Z.NdJ("click",function(){return t.printSingle()}),Z.TgZ(49,"mat-icon",27),Z._uU(50,"print"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(51,"div",33),Z.TgZ(52,"table",34),Z.TgZ(53,"thead"),Z.TgZ(54,"tr"),Z.TgZ(55,"th",35),Z.TgZ(56,"h5"),Z._uU(57,"Equipment Category"),Z.qZA(),Z.qZA(),Z.TgZ(58,"th",35),Z.TgZ(59,"h5"),Z._uU(60,"Equipment Name"),Z.qZA(),Z.qZA(),Z.TgZ(61,"th",36),Z.TgZ(62,"h5"),Z._uU(63,"Return Type"),Z.qZA(),Z.qZA(),Z.TgZ(64,"th",36),Z.TgZ(65,"h5"),Z._uU(66,"Reporting Month"),Z.qZA(),Z.qZA(),Z.TgZ(67,"th",37),Z.TgZ(68,"h5"),Z._uU(69," OPL/NON-OPL"),Z.qZA(),Z.qZA(),Z.TgZ(70,"th",38),Z._UZ(71,"h5"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(72,"tbody"),Z.YNc(73,G,20,9,"tr",39),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(74,"mat-paginator",40),Z.NdJ("page",function(e){return t.pageChanged(e)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(28),Z.hij("No of Items: - ",t.itemCount,""),Z.xp6(2),Z.Q6J("ngModel",t.searchText),Z.xp6(43),Z.Q6J("ngForOf",t.dataSource.data),Z.xp6(1),Z.Q6J("length",t.paging.length)("showFirstLastButtons",t.masterData.paging.showFirstLastButtons)("pageSize",t.paging.pageSize)("pageSizeOptions",t.masterData.paging.pageSizeOptions))},directives:[h.yS,i.Fj,i.JJ,i.On,u.lW,c.Hw,h.rH,r.sg,l.NW],styles:[""]}),e})();class W{constructor(){this.items=[]}}let K=(()=>{class e{constructor(e){this.http=e,this.baseUrl=T.N.apiUrl,this.HalfYearlyReturns=[],this.HalfYearlyReturnPagination=new W}getHalfYearlyReturns(e,t,n){let r=new y.LE;return r=r.append("searchText",n.toString()),r=r.append("pageNumber",e.toString()),r=r.append("pageSize",t.toString()),this.http.get(this.baseUrl+"/half-yearly-return/get-HalfYearlyReturns",{observe:"response",params:r}).pipe((0,S.U)(e=>(this.HalfYearlyReturns=[...this.HalfYearlyReturns,...e.body.items],this.HalfYearlyReturnPagination=e.body,this.HalfYearlyReturnPagination)))}find(e){return this.http.get(this.baseUrl+"/half-yearly-return/get-HalfYearlyReturnDetail/"+e)}getSelectedSchoolByBranchLevelAndThirdLevel(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}getSelectedEquipmentNameByCategory(e){return this.http.get(this.baseUrl+"/equpment-name/get-selectedEqupmentNameByCategory?equepmentCategoryId="+e)}getShipEquipmentInfoListForHalfYearly(e,t){return this.http.get(this.baseUrl+"/ship-equipment-info/get-shipEquipmentInfoListForHalfYearly?equipmentCategoryId="+e+"&equpmentNameId="+t)}getSelectedEquipmentCategory(){return this.http.get(this.baseUrl+"/equipment-category/get-selectedEquipmentCategory")}getSelectedBrand(){return this.http.get(this.baseUrl+"/brand/get-selectedBrand")}update(e,t){return this.http.put(this.baseUrl+"/half-yearly-return/update-HalfYearlyReturn/"+e,t)}submit(e){return this.http.post(this.baseUrl+"/half-yearly-return/save-HalfYearlyReturn",e)}delete(e){return this.http.delete(this.baseUrl+"/half-yearly-return/delete-HalfYearlyReturn/"+e)}}return e.\u0275fac=function(t){return new(t||e)(Z.LFG(y.eN))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ee=function(e){return["/ships-return/update-halfyearlyreturn",e]};function te(e,t){if(1&e){const e=Z.EpF();Z.TgZ(0,"tr"),Z.TgZ(1,"td"),Z._uU(2),Z.qZA(),Z.TgZ(3,"td"),Z._uU(4),Z.qZA(),Z.TgZ(5,"td"),Z._uU(6),Z.qZA(),Z.TgZ(7,"td"),Z._uU(8),Z.qZA(),Z.TgZ(9,"td"),Z._uU(10),Z.qZA(),Z.TgZ(11,"td",38),Z.TgZ(12,"button",41),Z.TgZ(13,"mat-icon",42),Z._uU(14,"edit"),Z.qZA(),Z.qZA(),Z.TgZ(15,"button",43),Z.NdJ("click",function(e){return e.stopPropagation()})("click",function(){const t=Z.CHM(e).$implicit;return Z.oxw().deleteItem(t)}),Z.TgZ(16,"mat-icon",44),Z._uU(17,"delete"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){const e=t.$implicit;Z.xp6(2),Z.hij(" ",e.equipmentCategory," "),Z.xp6(2),Z.hij(" ",e.equpmentName," "),Z.xp6(2),Z.hij(" ",e.inputPowerSupply," "),Z.xp6(2),Z.hij(" ",e.totalRunningTime," "),Z.xp6(2),Z.hij(" ",e.powerSupplyUnit," "),Z.xp6(2),Z.Q6J("routerLink",Z.VKq(6,ee,e.halfYearlyReturnId))}}let ne=(()=>{class e{constructor(e,t,n,r){this.snackBar=e,this.HalfYearlyReturnService=t,this.router=n,this.confirmService=r,this.masterData=d.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.fileUrl="https://localhost:44395/content/",this.showHideDiv=!1,this.itemCount=0,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","authorityName","baseName","baseSchoolName","sqnName","operationalStatus","actions"],this.dataSource=new a.by,this.selection=new V.Ov(!0,[])}ngOnInit(){this.getHalfYearlyReturns()}getHalfYearlyReturns(){this.isLoading=!0,this.HalfYearlyReturnService.getHalfYearlyReturns(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(e=>{this.dataSource.data=e.items,this.paging.length=e.totalItemsCount,this.isLoading=!1,console.log(this.dataSource.data),this.itemCount=e.items.length,console.log("itemCountdata"),console.log(this.dataSource.data)})}pageChanged(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getHalfYearlyReturns()}applyFilter(e){this.searchText=e,this.getHalfYearlyReturns()}toggle(){this.showHideDiv=!this.showHideDiv}printSingle(){this.showHideDiv=!1,this.print()}print(){let e,t;e=document.getElementById("print-routine").innerHTML,t=window.open("top=0,left=0,height=100%,width=auto"),t.document.open(),t.document.write(`\n      <html>\n        <head>\n          <style>\n          body{  width: 99%;}\n            label { font-weight: 400;\n                    font-size: 13px;\n                    padding: 2px;\n                    margin-bottom: 5px;\n                  }\n            table, td, th {\n                  border: 1px solid silver;\n                    }\n                    table td {\n                  font-size: 13px;\n                    }\n                    .table.table.tbl-by-group.db-li-s-in tr .cl-action{\n                      display: none;\n                    }\n        \n                    .table.table.tbl-by-group.db-li-s-in tr td .cl-action{\n                      text-align:center;\n                      padding: 0px 5px;\n                    }\n                    \n                  }\n                  .table.table.tbl-by-group.db-li-s-in tr .btn-tbl-edit {\n                    display:none;\n                  }\n                  \n                    \n                    table th {\n                  font-size: 13px;\n                    }\n              table {\n                    border-collapse: collapse;\n                    width: 98%;\n                    }\n                th {\n                    height: 26px;\n                    }\n                .header-text{\n                  text-align:center;\n                }\n                .header-text h3{\n                  margin:0;\n                }\n          </style>\n        </head>\n        <body onload="window.print();window.close()">\n          <div class="header-text">\n          <h3>Half Yearly Return List </h3>\n          \n          </div>\n          <br>\n          <hr>\n          ${e}\n          \n        </body>\n      </html>`),t.document.close()}deleteItem(e){const t=e.halfYearlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(e=>{console.log(e),e&&this.HalfYearlyReturnService.delete(t).subscribe(()=>{this.getHalfYearlyReturns(),this.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(s.ux),Z.Y36(K),Z.Y36(h.F0),Z.Y36(b.z))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-halfyearlyreturn-list"]],decls:75,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"count-value"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-raised-button","","color","primary","routerLink","/ships-return/add-halfyearlyreturn",1,"btn-space"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["id","print-routine"],[1,"table","tbl-by-group","db-li-s-in"],[1,"cl-mrk-rmrk"],[1,"cl-mrk"],[1,"cl-mrk-opl"],[1,"cl-action"],[4,"ngFor","ngForOf"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,t){1&e&&(Z.TgZ(0,"section",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"ul",5),Z.TgZ(6,"li",6),Z.TgZ(7,"h4",7),Z._uU(8,"Half Yearly Return"),Z.qZA(),Z.qZA(),Z.TgZ(9,"li",8),Z.TgZ(10,"a",9),Z._UZ(11,"i",10),Z.qZA(),Z.qZA(),Z.TgZ(12,"li",11),Z.TgZ(13,"a",12),Z._uU(14,"Half Yearly Return"),Z.qZA(),Z.qZA(),Z.TgZ(15,"li",13),Z._uU(16,"All"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",3),Z.TgZ(18,"div",14),Z.TgZ(19,"div",15),Z.TgZ(20,"div",16),Z.TgZ(21,"div",17),Z.TgZ(22,"div",18),Z.TgZ(23,"div",3),Z.TgZ(24,"div",19),Z.TgZ(25,"ul",20),Z.TgZ(26,"li"),Z.TgZ(27,"h5",21),Z._uU(28),Z.qZA(),Z.qZA(),Z.TgZ(29,"li",22),Z.TgZ(30,"input",23,24),Z.NdJ("ngModelChange",function(e){return t.searchText=e}),Z.qZA(),Z.qZA(),Z.TgZ(32,"li"),Z.TgZ(33,"div",25),Z.TgZ(34,"button",26),Z.NdJ("click",function(){return t.applyFilter(t.searchText)}),Z.TgZ(35,"mat-icon",27),Z._uU(36,"search"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(37,"li"),Z.TgZ(38,"h3"),Z._uU(39," Half Yearly Return List"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(40,"div",28),Z.TgZ(41,"ul",29),Z.TgZ(42,"li"),Z.TgZ(43,"div",30),Z.TgZ(44,"button",31),Z._uU(45," Add "),Z.TgZ(46,"mat-icon",27),Z._uU(47,"add"),Z.qZA(),Z.qZA(),Z.TgZ(48,"button",32),Z.NdJ("click",function(){return t.printSingle()}),Z.TgZ(49,"mat-icon",27),Z._uU(50,"print"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(51,"div",33),Z.TgZ(52,"table",34),Z.TgZ(53,"thead"),Z.TgZ(54,"tr"),Z.TgZ(55,"th",35),Z.TgZ(56,"h5"),Z._uU(57,"Equipment Category"),Z.qZA(),Z.qZA(),Z.TgZ(58,"th",35),Z.TgZ(59,"h5"),Z._uU(60,"Equipment Name"),Z.qZA(),Z.qZA(),Z.TgZ(61,"th",36),Z.TgZ(62,"h5"),Z._uU(63,"Input Power Supply"),Z.qZA(),Z.qZA(),Z.TgZ(64,"th",36),Z.TgZ(65,"h5"),Z._uU(66,"Total Running Time"),Z.qZA(),Z.qZA(),Z.TgZ(67,"th",37),Z.TgZ(68,"h5"),Z._uU(69," Power Supply Unit"),Z.qZA(),Z.qZA(),Z.TgZ(70,"th",38),Z._UZ(71,"h5"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(72,"tbody"),Z.YNc(73,te,18,8,"tr",39),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(74,"mat-paginator",40),Z.NdJ("page",function(e){return t.pageChanged(e)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(28),Z.hij("No of Items: - ",t.itemCount,""),Z.xp6(2),Z.Q6J("ngModel",t.searchText),Z.xp6(43),Z.Q6J("ngForOf",t.dataSource.data),Z.xp6(1),Z.Q6J("length",t.paging.length)("showFirstLastButtons",t.masterData.paging.showFirstLastButtons)("pageSize",t.paging.pageSize)("pageSizeOptions",t.masterData.paging.pageSizeOptions))},directives:[h.yS,i.Fj,i.JJ,i.On,u.lW,c.Hw,h.rH,r.sg,l.NW],styles:[""]}),e})();function re(e,t){if(1&e&&(Z.TgZ(0,"mat-option",31),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function ie(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Ship Name is required "),Z.qZA())}function oe(e,t){if(1&e&&(Z.TgZ(0,"div",20),Z.TgZ(1,"mat-form-field",21),Z.TgZ(2,"mat-label"),Z._uU(3,"Ship Name "),Z.qZA(),Z.TgZ(4,"mat-select",30),Z.TgZ(5,"mat-option",23),Z._uU(6,"--Select--"),Z.qZA(),Z.YNc(7,re,2,2,"mat-option",24),Z.qZA(),Z.YNc(8,ie,2,0,"mat-error",25),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(7),Z.Q6J("ngForOf",e.selectedBaseSchoolName),Z.xp6(1),Z.Q6J("ngIf",e.HalfYearlyReturnForm.get("baseSchoolNameId").hasError("required"))}}function ae(e,t){if(1&e&&(Z.TgZ(0,"mat-option",31),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function le(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Equipment Category is required "),Z.qZA())}function se(e,t){if(1&e&&(Z.TgZ(0,"mat-option",31),Z._uU(1),Z.qZA()),2&e){const e=t.$implicit;Z.Q6J("value",e.value),Z.xp6(1),Z.hij(" ",e.text," ")}}function ue(e,t){1&e&&(Z.TgZ(0,"mat-error"),Z._uU(1," Equipment Name is required "),Z.qZA())}function ce(e,t){if(1&e&&(Z.TgZ(0,"tr",39),Z.TgZ(1,"th",40),Z._uU(2),Z.qZA(),Z.TgZ(3,"td",37),Z._uU(4),Z.qZA(),Z.TgZ(5,"td",37),Z._uU(6),Z.qZA(),Z.TgZ(7,"td",37),Z._uU(8),Z.qZA(),Z.TgZ(9,"td",37),Z._uU(10),Z.qZA(),Z.TgZ(11,"td",36),Z.TgZ(12,"mat-form-field",21),Z._UZ(13,"input",41),Z.qZA(),Z.qZA(),Z.TgZ(14,"td",36),Z.TgZ(15,"mat-form-field",21),Z._UZ(16,"input",42),Z.qZA(),Z.qZA(),Z.TgZ(17,"td",36),Z.TgZ(18,"mat-form-field",21),Z._UZ(19,"textarea",43),Z.qZA(),Z.qZA(),Z.TgZ(20,"td",36),Z.TgZ(21,"mat-form-field",21),Z._UZ(22,"input",44),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=t.$implicit,n=t.index,r=Z.oxw(2);Z.Q6J("formGroup",e),Z.xp6(2),Z.Oqu(n+1),Z.xp6(2),Z.AsE(" ",r.getControlLabel(n,"model")," - ",r.getControlLabel(n,"type")," "),Z.xp6(2),Z.hij(" ",r.getControlLabel(n,"powerSupply")," "),Z.xp6(2),Z.hij(" ",r.getControlLabel(n,"stateOfEquipment")," "),Z.xp6(2),Z.hij(" ",r.getControlLabel(n,"qty")," ")}}function ge(e,t){if(1&e&&(Z.TgZ(0,"div",14),Z.TgZ(1,"div",32),Z.TgZ(2,"div",16),Z.TgZ(3,"div",33),Z.TgZ(4,"table",34),Z.TgZ(5,"thead"),Z.TgZ(6,"tr"),Z.TgZ(7,"th",35),Z.TgZ(8,"h5"),Z._uU(9,"Ser"),Z.qZA(),Z.qZA(),Z.TgZ(10,"th",36),Z.TgZ(11,"h5"),Z._uU(12,"Model/Type"),Z.qZA(),Z.qZA(),Z.TgZ(13,"th",36),Z.TgZ(14,"h5"),Z._uU(15,"Input Power Supply"),Z.qZA(),Z.qZA(),Z.TgZ(16,"th",36),Z.TgZ(17,"h5"),Z._uU(18,"State of Equipment"),Z.qZA(),Z.qZA(),Z.TgZ(19,"th",37),Z.TgZ(20,"h5"),Z._uU(21,"Qty"),Z.qZA(),Z.qZA(),Z.TgZ(22,"th",36),Z.TgZ(23,"h5"),Z._uU(24,"Half Yearly Running Time(Hours)"),Z.qZA(),Z.qZA(),Z.TgZ(25,"th",36),Z.TgZ(26,"h5"),Z._uU(27,"Total Running Time(Hours)"),Z.qZA(),Z.qZA(),Z.TgZ(28,"th",37),Z.TgZ(29,"h5"),Z._uU(30,"Half Yearly Problem"),Z.qZA(),Z.qZA(),Z.TgZ(31,"th",37),Z.TgZ(32,"h5"),Z._uU(33,"Power Supply Unit"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(34,"tbody"),Z.YNc(35,ce,23,7,"tr",38),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e){const e=Z.oxw();Z.xp6(35),Z.Q6J("ngForOf",e.HalfYearlyReturnForm.get("shipEquipmentInfoList").controls)}}let he=(()=>{class e{constructor(e,t,n,r,i,o,a){this.snackBar=e,this.authService=t,this.confirmService=n,this.HalfYearlyReturnService=r,this.fb=i,this.router=o,this.route=a,this.userRole=p.u,this.validationErrors=[],this.masterData=d.O,this.ELEMENT_DATA=[],this.showHideDiv=!1,this.isLoading=!1,this.isShown=!1,this.itemCount=0}ngOnInit(){this.role=this.authService.currentUserValue.role.trim(),this.traineeId=this.authService.currentUserValue.traineeId.trim(),this.branchId=this.authService.currentUserValue.branchId.trim(),console.log(this.role,this.traineeId,this.branchId);const e=this.route.snapshot.paramMap.get("halfYearlyReturnId");e?(this.pageTitle="Edit Half Yearly Return",this.destination="Edit",this.btnText="Update",this.HalfYearlyReturnService.find(+e).subscribe(e=>{this.HalfYearlyReturnForm.patchValue({halfYearlyReturnId:e.halfYearlyReturnId,baseSchoolNameId:e.baseSchoolNameId,equipmentCategoryId:e.equipmentCategoryId,equpmentNameId:e.equpmentNameId,brandId:e.brandId,halfYearlyRunningTime:e.halfYearlyRunningTime,halfYearlyProblem:e.halfYearlyProblem,inputPowerSupply:e.inputPowerSupply,totalRunningTime:e.totalRunningTime,powerSupplyUnit:e.powerSupplyUnit,remarks:e.remarks,menuPosition:e.menuPosition,isActive:e.isActive}),this.onEquipmentCategorySelectionChange()})):(this.pageTitle="Half Yearly Return",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.role!=this.userRole.ShipStaff&&this.role==this.userRole.LOEO||this.HalfYearlyReturnForm.get("baseSchoolNameId").setValue(this.branchId),this.getSelectedEquipmentCategory(),this.getSelectedBrand(),this.getSelectedSchoolByBranchLevelAndThirdLevel()}intitializeForm(){this.HalfYearlyReturnForm=this.fb.group({halfYearlyReturnId:[0],baseSchoolNameId:[""],equipmentCategoryId:[""],equpmentNameId:[""],brandId:[""],halfYearlyRunningTime:[],halfYearlyProblem:[],inputPowerSupply:[""],totalRunningTime:[],powerSupplyUnit:[""],remarks:[""],menuPosition:[1],isActive:[!0],shipEquipmentInfoList:this.fb.array([this.createHalfYearlyReturnData()])})}getControlLabel(e,t){return this.HalfYearlyReturnForm.get("shipEquipmentInfoList").at(e).get(t).value}createHalfYearlyReturnData(){return this.fb.group({baseSchoolNameId:[""],equipmentCategoryId:[""],equpmentNameId:[""],equipmentCategory:[""],equpmentName:[""],brandId:[""],qty:[""],powerSupply:[""],halfYearlyRunningTime:[],totalRunningTime:[],halfYearlyProblem:[],powerSupplyUnit:[""],model:[""],type:[""],stateOfEquipment:[""]})}clearList(){const e=this.HalfYearlyReturnForm.controls.shipEquipmentInfoList;for(;e.length;)e.removeAt(e.length-1);e.clearValidators()}getShipEquipmentInfoListonClick(){const e=this.HalfYearlyReturnForm.controls.shipEquipmentInfoList;for(let t=0;t<this.selectedShipEquipmentInfoList.length;t++)e.push(this.createHalfYearlyReturnData()),console.log("selectedShipEquipmentInfoList"),console.log(this.selectedShipEquipmentInfoList);console.log("12"),this.HalfYearlyReturnForm.patchValue({shipEquipmentInfoList:this.selectedShipEquipmentInfoList})}getSelectedSchoolByBranchLevelAndThirdLevel(){this.HalfYearlyReturnService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(e=>{this.selectedBaseSchoolName=e,console.log(e)})}onEquipmentCategorySelectionChange(){this.HalfYearlyReturnService.getSelectedEquipmentNameByCategory(this.HalfYearlyReturnForm.value.equipmentCategoryId).subscribe(e=>{this.selectedEquipmentNameByCategory=e,console.log(e),console.log(e)})}onShipEquipmentInfoList(){this.isShown=!0,this.HalfYearlyReturnService.getShipEquipmentInfoListForHalfYearly(this.HalfYearlyReturnForm.value.equipmentCategoryId,this.HalfYearlyReturnForm.value.equpmentNameId).subscribe(e=>{this.selectedShipEquipmentInfoList=e,console.log("EquipmentInfoList"),console.log(this.selectedShipEquipmentInfoList),this.clearList(),this.getShipEquipmentInfoListonClick()})}getSelectedEquipmentCategory(){this.HalfYearlyReturnService.getSelectedEquipmentCategory().subscribe(e=>{this.selectedEquipmentCategory=e,console.log(e)})}getSelectedBrand(){this.HalfYearlyReturnService.getSelectedBrand().subscribe(e=>{this.selectedBrand=e,console.log(e)})}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}deleteItem(e){const t=e.halfYearlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(e=>{console.log(e),e&&this.HalfYearlyReturnService.delete(t).subscribe(()=>{this.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}onSubmit(){const e=this.HalfYearlyReturnForm.get("halfYearlyReturnId").value;console.log("HalfYearlyReturn.value"),console.log(this.HalfYearlyReturnForm.value),e?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(t=>{t&&this.HalfYearlyReturnService.update(+e,this.HalfYearlyReturnForm.value).subscribe(e=>{this.router.navigateByUrl("/ships-return/halfyearlyreturn-list"),this.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}):this.HalfYearlyReturnService.submit(this.HalfYearlyReturnForm.value).subscribe(e=>{this.router.navigateByUrl("/ships-return/halfyearlyreturn-list"),this.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}}return e.\u0275fac=function(t){return new(t||e)(Z.Y36(s.ux),Z.Y36(f.e),Z.Y36(b.z),Z.Y36(K),Z.Y36(i.qu),Z.Y36(h.F0),Z.Y36(h.gz))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-new-halfyearlyreturn"]],decls:47,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-12 mb-2",4,"ngIf"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","equipmentCategoryId","required","",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","equpmentNameId","required","",3,"selectionChange"],["class","row clearfix",4,"ngIf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["formControlName","baseSchoolNameId","required",""],[3,"value"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p-0","ex-mrk-entry-li"],[1,"body","table-responsive"],[1,"table","ex-mrk-entry","issue-res"],[1,"cl-srl"],[1,"cl-mrk"],[1,"cl-nm-rnk"],[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["scope","row",1,"cl-srl"],["matInput","","type","text","formControlName","halfYearlyRunningTime"],["matInput","","type","text","formControlName","totalRunningTime"],["matInput","","type","text","formControlName","halfYearlyProblem"],["matInput","","type","text","formControlName","powerSupplyUnit"]],template:function(e,t){1&e&&(Z.TgZ(0,"section",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div",3),Z.TgZ(4,"div",4),Z.TgZ(5,"ul",5),Z.TgZ(6,"li",6),Z.TgZ(7,"h4",7),Z._uU(8),Z.qZA(),Z.qZA(),Z.TgZ(9,"li",8),Z.TgZ(10,"a",9),Z._UZ(11,"i",10),Z.qZA(),Z.qZA(),Z.TgZ(12,"li",11),Z.TgZ(13,"a",12),Z._uU(14,"Half Yearly Return"),Z.qZA(),Z.qZA(),Z.TgZ(15,"li",13),Z._uU(16),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"div",14),Z.TgZ(18,"div",15),Z.TgZ(19,"div",16),Z.TgZ(20,"div",17),Z.TgZ(21,"form",18),Z.NdJ("ngSubmit",function(){return t.onSubmit()}),Z.TgZ(22,"div",3),Z.YNc(23,oe,9,2,"div",19),Z.TgZ(24,"div",20),Z.TgZ(25,"mat-form-field",21),Z.TgZ(26,"mat-label"),Z._uU(27,"Equipment Category "),Z.qZA(),Z.TgZ(28,"mat-select",22),Z.NdJ("selectionChange",function(){return t.onEquipmentCategorySelectionChange()}),Z.TgZ(29,"mat-option",23),Z._uU(30,"--Select--"),Z.qZA(),Z.YNc(31,ae,2,2,"mat-option",24),Z.qZA(),Z.YNc(32,le,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.TgZ(33,"div",20),Z.TgZ(34,"mat-form-field",21),Z.TgZ(35,"mat-label"),Z._uU(36,"Equipment Name "),Z.qZA(),Z.TgZ(37,"mat-select",26),Z.NdJ("selectionChange",function(){return t.onShipEquipmentInfoList()}),Z.TgZ(38,"mat-option",23),Z._uU(39,"--Select--"),Z.qZA(),Z.YNc(40,se,2,2,"mat-option",24),Z.qZA(),Z.YNc(41,ue,2,0,"mat-error",25),Z.qZA(),Z.qZA(),Z.YNc(42,ge,36,1,"div",27),Z.qZA(),Z.TgZ(43,"div",3),Z.TgZ(44,"div",28),Z.TgZ(45,"button",29),Z._uU(46),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(8),Z.Oqu(t.pageTitle),Z.xp6(8),Z.Oqu(t.destination),Z.xp6(5),Z.Q6J("formGroup",t.HalfYearlyReturnForm),Z.xp6(2),Z.Q6J("ngIf",t.role!=t.userRole.ShipStaff&&t.role!=t.userRole.LOEO),Z.xp6(8),Z.Q6J("ngForOf",t.selectedEquipmentCategory),Z.xp6(1),Z.Q6J("ngIf",t.HalfYearlyReturnForm.get("equipmentCategoryId").hasError("required")),Z.xp6(8),Z.Q6J("ngForOf",t.selectedEquipmentNameByCategory),Z.xp6(1),Z.Q6J("ngIf",t.HalfYearlyReturnForm.get("equpmentNameId").hasError("required")),Z.xp6(1),Z.Q6J("ngIf",t.isShown),Z.xp6(3),Z.Q6J("disabled",!t.HalfYearlyReturnForm.valid),Z.xp6(1),Z.Oqu(t.btnText))},directives:[h.yS,i._Y,i.JL,i.sg,r.O5,I.KE,I.hX,g.gD,i.JJ,i.u,i.Q7,x.ey,r.sg,u.lW,I.TO,R.Nt,i.Fj],styles:[""]}),e})();const me=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"monthlyreturn-list",component:X},{path:"update-monthly/:damageElectricalId",component:j},{path:"add-monthly",component:j},{path:"halfyearlyreturn-list",component:ne},{path:"update-halfyearlyreturn/:halfYearlyReturnId",component:he},{path:"add-halfyearlyreturn",component:he},{path:"**",component:m.J}];let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[h.Bz.forChild(me)],h.Bz]}),e})();var pe=n(44716),Ze=n(87672),fe=n(79961);let qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[r.ez,de,r.ez,i.u5,i.UX,o.xD,a.p0,l.TU,I.lN,R.c,pe.T5,s.ZX,u.ot,c.Ps,g.LD,U.FA,x.XK,C.Ad,Ze.Cq,y.JF,fe.Bb]]}),e})()}}]);