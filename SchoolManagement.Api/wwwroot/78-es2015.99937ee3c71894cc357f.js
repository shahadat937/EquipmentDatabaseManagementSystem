(self.webpackChunksmart=self.webpackChunksmart||[]).push([[78],{4078:function(e,o,t){"use strict";t.r(o),t.d(o,{MiscellaneousModule:function(){return ee}});var a=t(61116),n=t(31041),i=t(17647),r=t(39199),s=t(5609),l=t(63589),c=t(84369),u=t(77307),m=t(13841),d=t(72767),g=t(6741),p=t(67800),h=t(58378),f=t(35366),Z=t(78566),b=t(42693),B=t(529);class k{constructor(){this.items=[]}}var T=t(91681);let U=(()=>{class e{constructor(e){this.http=e,this.baseUrl=B.N.apiUrl,this.BookUserManualBRInfos=[],this.BookUserManualBRInfoPagination=new k}getBookUserManualBRInfos(e,o,t){let a=new b.LE;return a=a.append("searchText",t.toString()),a=a.append("pageNumber",e.toString()),a=a.append("pageSize",o.toString()),this.http.get(this.baseUrl+"/book-user-manual-br-info/get-BookUserManualBRInfos",{observe:"response",params:a}).pipe((0,T.U)(e=>(this.BookUserManualBRInfos=[...this.BookUserManualBRInfos,...e.body.items],this.BookUserManualBRInfoPagination=e.body,this.BookUserManualBRInfoPagination)))}getSelectedSchoolByBranchLevelAndThirdLevel(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}getSelectedBookType(){return this.http.get(this.baseUrl+"/book-type/get-selectedBookType")}find(e){return this.http.get(this.baseUrl+"/book-user-manual-br-info/get-BookUserManualBRInfoDetail/"+e)}update(e,o){return this.http.put(this.baseUrl+"/book-user-manual-br-info/update-BookUserManualBRInfo/"+e,o)}submit(e){return this.http.post(this.baseUrl+"/book-user-manual-br-info/save-BookUserManualBRInfo",e)}delete(e){return this.http.delete(this.baseUrl+"/book-user-manual-br-info/delete-BookUserManualBRInfo/"+e)}}return e.\u0275fac=function(o){return new(o||e)(f.LFG(b.eN))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=t(13070),q=t(87064),I=t(9550),v=t(1325);function S(e,o){if(1&e&&(f.TgZ(0,"mat-option",61),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.Q6J("value",e.value),f.xp6(1),f.hij(" ",e.text," ")}}function x(e,o){1&e&&(f.TgZ(0,"mat-error"),f._uU(1," Book Type is required "),f.qZA())}function N(e,o){1&e&&(f.TgZ(0,"mat-error"),f._uU(1," Book Name required "),f.qZA())}function M(e,o){if(1&e&&(f.TgZ(0,"mat-option",61),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.Q6J("value",e.value),f.xp6(1),f.hij(" ",e.text," ")}}function R(e,o){1&e&&(f.TgZ(0,"mat-error"),f._uU(1," Ship Name is required "),f.qZA())}function y(e,o){1&e&&(f.TgZ(0,"mat-header-cell",62),f._uU(1," Ser. "),f.qZA())}function _(e,o){if(1&e&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&e){const e=o.index,t=f.oxw();f.xp6(1),f.hij(" ",(t.paging.pageIndex-1)*t.paging.pageSize+e+1," ")}}function C(e,o){1&e&&(f.TgZ(0,"mat-header-cell",62),f._uU(1," Book Type "),f.qZA())}function w(e,o){if(1&e&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.xp6(1),f.hij(" ",e.bookType," ")}}function D(e,o){1&e&&(f.TgZ(0,"mat-header-cell",62),f._uU(1,"Book Name "),f.qZA())}function F(e,o){if(1&e&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.xp6(1),f.hij(" ",e.bookName," ")}}function Y(e,o){1&e&&(f.TgZ(0,"mat-header-cell",62),f._uU(1," Ship Name "),f.qZA())}function J(e,o){if(1&e&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.xp6(1),f.hij(" ",e.shipName," ")}}function z(e,o){1&e&&(f.TgZ(0,"mat-header-cell",62),f._uU(1," Remarks "),f.qZA())}function L(e,o){if(1&e&&(f.TgZ(0,"mat-cell"),f._uU(1),f.qZA()),2&e){const e=o.$implicit;f.xp6(1),f.hij(" ",e.remarks," ")}}function Q(e,o){1&e&&(f.TgZ(0,"mat-header-cell",63),f._uU(1,"Actions"),f.qZA())}const O=function(e){return["/miscellaneous/update-bookusermanualbrinfo",e]};function E(e,o){if(1&e){const e=f.EpF();f.TgZ(0,"mat-cell",63),f.TgZ(1,"a",64),f._UZ(2,"i",65),f.qZA(),f._uU(3," | "),f.TgZ(4,"button",66),f.TgZ(5,"mat-icon",67),f._uU(6,"edit"),f.qZA(),f.qZA(),f.TgZ(7,"button",68),f.NdJ("click",function(e){return e.stopPropagation()})("click",function(){const o=f.CHM(e).$implicit;return f.oxw().deleteItem(o)}),f.TgZ(8,"mat-icon",69),f._uU(9,"delete"),f.qZA(),f.qZA(),f.qZA()}if(2&e){const e=o.$implicit;f.xp6(1),f.Q6J("href",e.uploadDocument,f.LSH),f.xp6(3),f.Q6J("routerLink",f.VKq(2,O,e.bookUserManualBRInfoId))}}function P(e,o){1&e&&f._UZ(0,"mat-header-row")}function j(e,o){1&e&&f._UZ(0,"mat-row")}let H=(()=>{class e{constructor(e,o,t,a,n,i){this.snackBar=e,this.confirmService=o,this.BookUserManualBRInfoService=t,this.fb=a,this.router=n,this.route=i,this.validationErrors=[],this.masterData=p.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","bookType","bookName","shipName","remarks","actions"],this.dataSource=new r.by,this.selection=new h.Ov(!0,[])}ngOnInit(){const e=this.route.snapshot.paramMap.get("bookUserManualBRInfoId");e?(this.pageTitle="Edit Book User Manual & BR Info",this.destination="Edit",this.btnText="Update",this.BookUserManualBRInfoService.find(+e).subscribe(e=>{this.BookUserManualBRInfoForm.patchValue({bookUserManualBRInfoId:e.bookUserManualBRInfoId,bookTypeId:e.bookTypeId,baseSchoolNameId:e.baseSchoolNameId,bookName:e.bookName,uploadDocument:e.uploadDocument,remarks:e.remarks,menuPosition:e.menuPosition,isActive:e.isActive})})):(this.pageTitle="Create Book User Manual & BR Info",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.getBookUserManualBRInfos(),this.getSelectedSchoolByBranchLevelAndThirdLevel(),this.getSelectedBookType()}intitializeForm(){this.BookUserManualBRInfoForm=this.fb.group({bookUserManualBRInfoId:[0],bookTypeId:[""],baseSchoolNameId:[""],bookName:["",n.kI.required],uploadDocument:[""],document:[""],remarks:[""],menuPosition:[""],isActive:[!0]})}onFileChanged(e){if(e.target.files.length>0){const o=e.target.files[0];console.log(o),this.BookUserManualBRInfoForm.patchValue({document:o})}}getSelectedSchoolByBranchLevelAndThirdLevel(){this.BookUserManualBRInfoService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(e=>{this.selectedBaseSchoolName=e,console.log(e)})}getSelectedBookType(){this.BookUserManualBRInfoService.getSelectedBookType().subscribe(e=>{this.selectedBookType=e,console.log(e),console.log(e)})}pageChanged(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getBookUserManualBRInfos()}applyFilter(e){this.searchText=e,this.getBookUserManualBRInfos()}getBookUserManualBRInfos(){this.isLoading=!0,this.BookUserManualBRInfoService.getBookUserManualBRInfos(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(e=>{this.dataSource.data=e.items,this.paging.length=e.totalItemsCount,this.isLoading=!1})}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}deleteItem(e){const o=e.bookUserManualBRInfoId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(e=>{console.log(e),e&&this.BookUserManualBRInfoService.delete(o).subscribe(()=>{this.getBookUserManualBRInfos(),this.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}onSubmit(){const e=this.BookUserManualBRInfoForm.get("bookUserManualBRInfoId").value,o=new FormData;for(const t of Object.keys(this.BookUserManualBRInfoForm.value))o.append(t,this.BookUserManualBRInfoForm.value[t]);e?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(t=>{t&&this.BookUserManualBRInfoService.update(+e,o).subscribe(e=>{this.router.navigateByUrl("/miscellaneous/add-bookusermanualbrinfo"),this.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}):this.BookUserManualBRInfoService.submit(o).subscribe(e=>{this.reloadCurrentRoute(),this.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},e=>{this.validationErrors=e})}}return e.\u0275fac=function(o){return new(o||e)(f.Y36(l.ux),f.Y36(Z.z),f.Y36(U),f.Y36(n.qu),f.Y36(d.F0),f.Y36(d.gz))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-new-bookusermanualbrinfo"]],decls:108,vars:18,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","bookTypeId","required",""],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","bookName","required",""],["formControlName","baseSchoolNameId","required",""],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-3","mb-2"],["accept",".txt,.pdf,.xls,.xlsx,.doc,.docx,.ppt,.pptx",3,"change"],["matSuffix",""],["matInput","","formControlName","remarks"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-4"],[1,"header-buttons-left","ml-0"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-8"],[1,"col-12"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","ser"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","bookType"],["matColumnDef","bookName"],["matColumnDef","shipName"],["matColumnDef","remarks"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],[3,"value"],["mat-sort-header",""],[1,"pr-0"],["target","_blank",3,"href"],["matTooltip","Documents",1,"far","fa-file-pdf","tbl-pdf"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,o){1&e&&(f.TgZ(0,"section",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f.TgZ(5,"ul",5),f.TgZ(6,"li",6),f.TgZ(7,"h4",7),f._uU(8),f.qZA(),f.qZA(),f.TgZ(9,"li",8),f.TgZ(10,"a",9),f._UZ(11,"i",10),f.qZA(),f.qZA(),f.TgZ(12,"li",11),f.TgZ(13,"a",12),f._uU(14,"Book User Manual & BR Info"),f.qZA(),f.qZA(),f.TgZ(15,"li",13),f._uU(16),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(17,"div",14),f.TgZ(18,"div",15),f.TgZ(19,"div",16),f.TgZ(20,"div",17),f.TgZ(21,"form",18),f.NdJ("ngSubmit",function(){return o.onSubmit()}),f.TgZ(22,"div",3),f.TgZ(23,"div",19),f.TgZ(24,"mat-form-field",20),f.TgZ(25,"mat-label"),f._uU(26,"Book Type"),f.qZA(),f.TgZ(27,"mat-select",21),f.TgZ(28,"mat-option",22),f._uU(29,"--Select--"),f.qZA(),f.YNc(30,S,2,2,"mat-option",23),f.qZA(),f.YNc(31,x,2,0,"mat-error",24),f.qZA(),f.qZA(),f.TgZ(32,"div",19),f.TgZ(33,"mat-form-field",20),f.TgZ(34,"mat-label"),f._uU(35,"Book Name"),f.qZA(),f._UZ(36,"input",25),f.YNc(37,N,2,0,"mat-error",24),f.qZA(),f.qZA(),f.TgZ(38,"div",19),f.TgZ(39,"mat-form-field",20),f.TgZ(40,"mat-label"),f._uU(41,"Ship Name "),f.qZA(),f.TgZ(42,"mat-select",26),f.TgZ(43,"mat-option",22),f._uU(44,"--Select--"),f.qZA(),f.YNc(45,M,2,2,"mat-option",23),f.qZA(),f.YNc(46,R,2,0,"mat-error",24),f.qZA(),f.qZA(),f.TgZ(47,"div",27),f.TgZ(48,"mat-form-field",20),f.TgZ(49,"mat-label"),f._uU(50,"Upload File(Browse)"),f.qZA(),f.TgZ(51,"ngx-mat-file-input",28),f.NdJ("change",function(e){return o.onFileChanged(e)}),f.qZA(),f.TgZ(52,"mat-icon",29),f._uU(53,"attachment"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(54,"div",19),f.TgZ(55,"mat-form-field",20),f.TgZ(56,"mat-label"),f._uU(57,"Remarks"),f.qZA(),f._UZ(58,"input",30),f.qZA(),f.qZA(),f.qZA(),f.TgZ(59,"div",3),f.TgZ(60,"div",31),f.TgZ(61,"button",32),f._uU(62),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(63,"div",3),f.TgZ(64,"div",33),f.TgZ(65,"div",16),f.TgZ(66,"div",17),f.TgZ(67,"div",34),f.TgZ(68,"div",35),f.TgZ(69,"div",3),f.TgZ(70,"div",36),f.TgZ(71,"ul",37),f.TgZ(72,"li",38),f.TgZ(73,"input",39,40),f.NdJ("ngModelChange",function(e){return o.searchText=e}),f.qZA(),f.qZA(),f.TgZ(75,"li"),f.TgZ(76,"div",41),f.TgZ(77,"button",42),f.NdJ("click",function(){return o.applyFilter(o.searchText)}),f.TgZ(78,"mat-icon",43),f._uU(79,"search"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(80,"div",44),f.TgZ(81,"ul",37),f.TgZ(82,"li"),f.TgZ(83,"h3",45),f._uU(84," Book User Manual & BR Info List"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(85,"mat-table",46,47),f.ynx(87,48),f.YNc(88,y,2,0,"mat-header-cell",49),f.YNc(89,_,2,1,"mat-cell",50),f.BQk(),f.ynx(90,51),f.YNc(91,C,2,0,"mat-header-cell",49),f.YNc(92,w,2,1,"mat-cell",50),f.BQk(),f.ynx(93,52),f.YNc(94,D,2,0,"mat-header-cell",49),f.YNc(95,F,2,1,"mat-cell",50),f.BQk(),f.ynx(96,53),f.YNc(97,Y,2,0,"mat-header-cell",49),f.YNc(98,J,2,1,"mat-cell",50),f.BQk(),f.ynx(99,54),f.YNc(100,z,2,0,"mat-header-cell",49),f.YNc(101,L,2,1,"mat-cell",50),f.BQk(),f.ynx(102,55),f.YNc(103,Q,2,0,"mat-header-cell",56),f.YNc(104,E,10,4,"mat-cell",57),f.BQk(),f.YNc(105,P,1,0,"mat-header-row",58),f.YNc(106,j,1,0,"mat-row",59),f.qZA(),f.TgZ(107,"mat-paginator",60),f.NdJ("page",function(e){return o.pageChanged(e)}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.xp6(8),f.Oqu(o.pageTitle),f.xp6(8),f.Oqu(o.destination),f.xp6(5),f.Q6J("formGroup",o.BookUserManualBRInfoForm),f.xp6(9),f.Q6J("ngForOf",o.selectedBookType),f.xp6(1),f.Q6J("ngIf",o.BookUserManualBRInfoForm.get("bookTypeId").hasError("required")),f.xp6(6),f.Q6J("ngIf",o.BookUserManualBRInfoForm.get("bookName").hasError("required")),f.xp6(8),f.Q6J("ngForOf",o.selectedBaseSchoolName),f.xp6(1),f.Q6J("ngIf",o.BookUserManualBRInfoForm.get("baseSchoolNameId").hasError("required")),f.xp6(15),f.Q6J("disabled",!o.BookUserManualBRInfoForm.valid),f.xp6(1),f.Oqu(o.btnText),f.xp6(11),f.Q6J("ngModel",o.searchText),f.xp6(12),f.Q6J("dataSource",o.dataSource),f.xp6(20),f.Q6J("matHeaderRowDef",o.displayedColumns),f.xp6(1),f.Q6J("matRowDefColumns",o.displayedColumns),f.xp6(1),f.Q6J("length",o.paging.length)("showFirstLastButtons",o.masterData.paging.showFirstLastButtons)("pageSize",o.paging.pageSize)("pageSizeOptions",o.masterData.paging.pageSizeOptions))},directives:[d.yS,n._Y,n.JL,n.sg,A.KE,A.hX,m.gD,n.JJ,n.u,n.Q7,q.ey,a.sg,a.O5,I.Nt,n.Fj,v.Yh,u.Hw,A.R9,c.lW,n.On,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,s.NW,A.TO,r.ge,r.ev,d.rH,r.XQ,r.Gk],styles:[""]}),e})();const $=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"update-bookusermanualbrinfo/:bookUserManualBRInfoId",component:H},{path:"add-bookusermanualbrinfo",component:H},{path:"**",component:g.J}];let X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[d.Bz.forChild($)],d.Bz]}),e})();var G=t(44716),K=t(69024),V=t(87672),W=t(79961);let ee=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[a.ez,X,a.ez,n.u5,n.UX,i.xD,r.p0,s.TU,A.lN,I.c,G.T5,l.ZX,c.ot,u.Ps,m.LD,K.FA,q.XK,v.Ad,V.Cq,b.JF,W.Bb]]}),e})()}}]);