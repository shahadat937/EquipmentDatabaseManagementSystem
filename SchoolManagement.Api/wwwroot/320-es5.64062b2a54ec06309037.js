!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunksmart=self.webpackChunksmart||[]).push([[320],{21320:function(t,n,a){"use strict";a.r(n),a.d(n,{ShipsReturnModule:function(){return ve}});var o=a(61116),l=a(31041),u=a(17647),s=a(39199),c=a(5609),g=a(63589),h=a(84369),m=a(77307),d=a(13841),p=a(72767),Z=a(6741),f=a(67800),y=a(94200),q=a(35366),b=a(28086),T=a(28872),v=a(78566),A=a(42693),S=a(529),I=function e(){i(this,e),this.items=[]},x=a(91681),R=function(){var t=function(){function t(e){i(this,t),this.http=e,this.baseUrl=S.N.apiUrl,this.MonthlyReturns=[],this.MonthlyReturnPagination=new I}return r(t,[{key:"getMonthlyReturns",value:function(t,n,r){var i=this,a=new A.LE;return a=(a=(a=a.append("searchText",r.toString())).append("pageNumber",t.toString())).append("pageSize",n.toString()),this.http.get(this.baseUrl+"/monthly-return/get-MonthlyReturns",{observe:"response",params:a}).pipe((0,x.U)(function(t){return i.MonthlyReturns=[].concat(e(i.MonthlyReturns),e(t.body.items)),i.MonthlyReturnPagination=t.body,i.MonthlyReturnPagination}))}},{key:"find",value:function(e){return this.http.get(this.baseUrl+"/monthly-return/get-MonthlyReturnDetail/"+e)}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}},{key:"getSelectedEquipmentNameByCategory",value:function(e){return this.http.get(this.baseUrl+"/equpment-name/get-selectedEqupmentNameByCategory?equepmentCategoryId="+e)}},{key:"getSelectedOperationalStatus",value:function(){return this.http.get(this.baseUrl+"/operational-status/get-selectedOperationalStatus")}},{key:"getSelectedEquipmentCategory",value:function(){return this.http.get(this.baseUrl+"/equipment-category/get-selectedEquipmentCategory")}},{key:"getSelectedReportingMonth",value:function(){return this.http.get(this.baseUrl+"/reporting-month/get-selectedReportingMonth")}},{key:"getSelectedReturnType",value:function(){return this.http.get(this.baseUrl+"/return-type/get-selectedReturnType")}},{key:"update",value:function(e,t){return this.http.put(this.baseUrl+"/monthly-return/update-MonthlyReturn/"+e,t)}},{key:"submit",value:function(e){return this.http.post(this.baseUrl+"/monthly-return/save-MonthlyReturn",e)}},{key:"delete",value:function(e){return this.http.delete(this.baseUrl+"/monthly-return/delete-MonthlyReturn/"+e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(q.LFG(A.eN))},t.\u0275prov=q.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),U=a(13070),C=a(87064),k=a(9550),N=a(69024),Y=a(1325);function _(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function E(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Ship Name is required "),q.qZA())}function w(e,t){if(1&e&&(q.TgZ(0,"div",20),q.TgZ(1,"mat-form-field",21),q.TgZ(2,"mat-label"),q._uU(3,"Ship Name "),q.qZA(),q.TgZ(4,"mat-select",42),q.TgZ(5,"mat-option",23),q._uU(6,"--Select--"),q.qZA(),q.YNc(7,_,2,2,"mat-option",24),q.qZA(),q.YNc(8,E,2,0,"mat-error",25),q.qZA(),q.qZA()),2&e){var n=q.oxw();q.xp6(7),q.Q6J("ngForOf",n.selectedBaseSchoolName),q.xp6(1),q.Q6J("ngIf",n.MonthlyReturnForm.get("baseSchoolNameId").hasError("required"))}}function F(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function M(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Equipment Category is required "),q.qZA())}function L(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function H(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Equipment Name is required "),q.qZA())}function D(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Reporting Date is Required "),q.qZA())}function J(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function O(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Reporting Month is required "),q.qZA())}function B(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Damage Description is required "),q.qZA())}function Q(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function z(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Return Type is required "),q.qZA())}function P(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Damage Description is required "),q.qZA())}function j(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Time Of Defect is Required "),q.qZA())}function V(e,t){if(1&e&&(q.TgZ(0,"mat-option",43),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function $(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Operational Status is required "),q.qZA())}var G=function(){var e=function(){function e(t,n,r,a,o,l,u,s){i(this,e),this.snackBar=t,this.authService=n,this.baseSchoolNameService=r,this.confirmService=a,this.MonthlyReturnService=o,this.fb=l,this.router=u,this.route=s,this.userRole=y.u,this.validationErrors=[],this.masterData=f.O,this.ELEMENT_DATA=[],this.showHideDiv=!1,this.isLoading=!1,this.itemCount=0}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.role=this.authService.currentUserValue.role.trim(),this.traineeId=this.authService.currentUserValue.traineeId.trim(),this.branchId=this.authService.currentUserValue.branchId.trim(),console.log(this.role,this.traineeId,this.branchId);var t=this.route.snapshot.paramMap.get("damageElectricalId");t?(this.pageTitle="Edit Damage Electrical/Radio Electrical Equipment",this.destination="Edit",this.btnText="Update",this.MonthlyReturnService.find(+t).subscribe(function(t){e.MonthlyReturnForm.patchValue({monthlyReturnId:t.monthlyReturnId,authorityId:t.authorityId,baseNameId:t.baseNameId,baseSchoolNameId:t.baseSchoolNameId,equipmentCategoryId:t.equipmentCategoryId,equpmentNameId:t.equpmentNameId,reportingMonthId:t.reportingMonthId,returnTypeId:t.returnTypeId,operationalStatusId:t.operationalStatusId,damageDescription:t.damageDescription,presentCondition:t.presentCondition,reportingDate:t.reportingDate,timeOfDefect:t.timeOfDefect,uploadDocument:t.uploadDocument,remarks:t.remarks,menuPosition:t.menuPosition,isActive:t.isActive}),e.onEquipmentCategorySelectionChange()})):(this.pageTitle="Damage Electrical/Radio Electrical Equipment",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.role!=this.userRole.ShipStaff&&this.role!=this.userRole.LOEO||(this.MonthlyReturnForm.get("baseSchoolNameId").setValue(this.branchId),this.baseSchoolNameService.find(this.branchId).subscribe(function(t){console.log(t),e.MonthlyReturnForm.get("baseNameId").setValue(t.thirdLevel),e.MonthlyReturnForm.get("authorityId").setValue(t.secondLevel)})),this.getSelectedEquipmentCategory(),this.getSelectedReportingMonth(),this.getSelectedReturnType(),this.getSelectedOperationalStatus(),this.getSelectedSchoolByBranchLevelAndThirdLevel()}},{key:"intitializeForm",value:function(){this.MonthlyReturnForm=this.fb.group({monthlyReturnId:[0],authorityId:[""],baseNameId:[""],baseSchoolNameId:[],equipmentCategoryId:[""],equpmentNameId:[""],reportingMonthId:[""],returnTypeId:[""],operationalStatusId:[""],damageDescription:[""],presentCondition:[""],reportingDate:[""],timeOfDefect:[""],uploadDocument:[""],remarks:[""],menuPosition:[1],isActive:[!0],doc:[""]})}},{key:"onFileChanged",value:function(e){if(e.target.files.length>0){var t=e.target.files[0];console.log(t),this.MonthlyReturnForm.patchValue({doc:t})}}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){var e=this;this.MonthlyReturnService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(function(t){e.selectedBaseSchoolName=t,console.log(t)})}},{key:"onEquipmentCategorySelectionChange",value:function(){var e=this;this.MonthlyReturnService.getSelectedEquipmentNameByCategory(this.MonthlyReturnForm.value.equipmentCategoryId).subscribe(function(t){e.selectedEquipmentNameByCategory=t,console.log(t),console.log(t)})}},{key:"getSelectedEquipmentCategory",value:function(){var e=this;this.MonthlyReturnService.getSelectedEquipmentCategory().subscribe(function(t){e.selectedEquipmentCategory=t,console.log(t),console.log(t)})}},{key:"getSelectedReportingMonth",value:function(){var e=this;this.MonthlyReturnService.getSelectedReportingMonth().subscribe(function(t){e.selectedReportingMonth=t,console.log(t),console.log(t)})}},{key:"getSelectedReturnType",value:function(){var e=this;this.MonthlyReturnService.getSelectedReturnType().subscribe(function(t){e.selectedReturnType=t,console.log(t),console.log(t)})}},{key:"getSelectedOperationalStatus",value:function(){var e=this;this.MonthlyReturnService.getSelectedOperationalStatus().subscribe(function(t){e.selectedOperationalStatus=t,console.log(t),console.log(t)})}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}},{key:"deleteItem",value:function(e){var t=this,n=e.monthlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(function(e){console.log(e),e&&t.MonthlyReturnService.delete(n).subscribe(function(){t.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}},{key:"onSubmit",value:function(){var e=this,t=this.MonthlyReturnForm.get("monthlyReturnId").value;this.MonthlyReturnForm.get("reportingDate").setValue(new Date(this.MonthlyReturnForm.get("reportingDate").value).toUTCString()),this.MonthlyReturnForm.get("timeOfDefect").setValue(new Date(this.MonthlyReturnForm.get("timeOfDefect").value).toUTCString());for(var n=new FormData,r=0,i=Object.keys(this.MonthlyReturnForm.value);r<i.length;r++){var a=i[r];n.append(a,this.MonthlyReturnForm.value[a])}console.log(this.MonthlyReturnForm.value),t?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(function(r){r&&e.MonthlyReturnService.update(+t,n).subscribe(function(t){e.router.navigateByUrl("/ships-return/monthlyreturn-list"),e.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}):this.MonthlyReturnService.submit(n).subscribe(function(t){e.router.navigateByUrl("/ships-return/monthlyreturn-list"),e.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(g.ux),q.Y36(b.e),q.Y36(T.z),q.Y36(v.z),q.Y36(R),q.Y36(l.qu),q.Y36(p.F0),q.Y36(p.gz))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-new-monthlyreturn"]],decls:110,vars:24,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-12 mb-2",4,"ngIf"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","equipmentCategoryId","required","",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","equpmentNameId","required",""],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-3","mb-2"],["matInput","","formControlName","reportingDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["reportingDate",""],["formControlName","reportingMonthId","required",""],["matInput","","formControlName","damageDescription","required",""],["formControlName","returnTypeId","required",""],["matInput","","formControlName","presentCondition","required",""],["matInput","","formControlName","timeOfDefect","required","",3,"matDatepicker"],["timeOfDefect",""],["accept",".txt,.pdf,.xls,.xlsx,.doc,.docx,.ppt,.pptx",3,"change"],["matSuffix",""],["formControlName","operationalStatusId","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["formControlName","baseSchoolNameId","required",""],[3,"value"]],template:function(e,t){if(1&e&&(q.TgZ(0,"section",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"ul",5),q.TgZ(6,"li",6),q.TgZ(7,"h4",7),q._uU(8),q.qZA(),q.qZA(),q.TgZ(9,"li",8),q.TgZ(10,"a",9),q._UZ(11,"i",10),q.qZA(),q.qZA(),q.TgZ(12,"li",11),q.TgZ(13,"a",12),q._uU(14,"Equpment Name"),q.qZA(),q.qZA(),q.TgZ(15,"li",13),q._uU(16),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(17,"div",14),q.TgZ(18,"div",15),q.TgZ(19,"div",16),q.TgZ(20,"div",17),q.TgZ(21,"form",18),q.NdJ("ngSubmit",function(){return t.onSubmit()}),q.TgZ(22,"div",3),q.YNc(23,w,9,2,"div",19),q.TgZ(24,"div",20),q.TgZ(25,"mat-form-field",21),q.TgZ(26,"mat-label"),q._uU(27,"Equipment Category "),q.qZA(),q.TgZ(28,"mat-select",22),q.NdJ("selectionChange",function(){return t.onEquipmentCategorySelectionChange()}),q.TgZ(29,"mat-option",23),q._uU(30,"--Select--"),q.qZA(),q.YNc(31,F,2,2,"mat-option",24),q.qZA(),q.YNc(32,M,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(33,"div",20),q.TgZ(34,"mat-form-field",21),q.TgZ(35,"mat-label"),q._uU(36,"Equipment Name "),q.qZA(),q.TgZ(37,"mat-select",26),q.TgZ(38,"mat-option",23),q._uU(39,"--Select--"),q.qZA(),q.YNc(40,L,2,2,"mat-option",24),q.qZA(),q.YNc(41,H,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(42,"div",27),q.TgZ(43,"mat-form-field",21),q.TgZ(44,"mat-label"),q._uU(45,"Reporting Date"),q.qZA(),q._UZ(46,"input",28),q._UZ(47,"mat-datepicker-toggle",29),q._UZ(48,"mat-datepicker",null,30),q.YNc(50,D,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(51,"div",20),q.TgZ(52,"mat-form-field",21),q.TgZ(53,"mat-label"),q._uU(54,"Reporting Month"),q.qZA(),q.TgZ(55,"mat-select",31),q.TgZ(56,"mat-option",23),q._uU(57,"--Select--"),q.qZA(),q.YNc(58,J,2,2,"mat-option",24),q.qZA(),q.YNc(59,O,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(60,"div",20),q.TgZ(61,"mat-form-field",21),q.TgZ(62,"mat-label"),q._uU(63,"Damage Description"),q.qZA(),q._UZ(64,"textarea",32),q.YNc(65,B,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(66,"div",20),q.TgZ(67,"mat-form-field",21),q.TgZ(68,"mat-label"),q._uU(69,"Return Type"),q.qZA(),q.TgZ(70,"mat-select",33),q.TgZ(71,"mat-option",23),q._uU(72,"--Select--"),q.qZA(),q.YNc(73,Q,2,2,"mat-option",24),q.qZA(),q.YNc(74,z,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(75,"div",20),q.TgZ(76,"mat-form-field",21),q.TgZ(77,"mat-label"),q._uU(78,"Description of Present Condition"),q.qZA(),q._UZ(79,"textarea",34),q.YNc(80,P,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(81,"div",27),q.TgZ(82,"mat-form-field",21),q.TgZ(83,"mat-label"),q._uU(84,"Time Of Defect"),q.qZA(),q._UZ(85,"input",35),q._UZ(86,"mat-datepicker-toggle",29),q._UZ(87,"mat-datepicker",null,36),q.YNc(89,j,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(90,"div",20),q.TgZ(91,"mat-form-field",21),q.TgZ(92,"mat-label"),q._uU(93,"File Upload"),q.qZA(),q.TgZ(94,"ngx-mat-file-input",37),q.NdJ("change",function(e){return t.onFileChanged(e)}),q.qZA(),q.TgZ(95,"mat-icon",38),q._uU(96,"attachment"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(97,"div",20),q.TgZ(98,"mat-form-field",21),q.TgZ(99,"mat-label"),q._uU(100,"Operational Status"),q.qZA(),q.TgZ(101,"mat-select",39),q.TgZ(102,"mat-option",23),q._uU(103,"--Select--"),q.qZA(),q.YNc(104,V,2,2,"mat-option",24),q.qZA(),q.YNc(105,$,2,0,"mat-error",25),q.qZA(),q.qZA(),q.qZA(),q.TgZ(106,"div",3),q.TgZ(107,"div",40),q.TgZ(108,"button",41),q._uU(109),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e){var n=q.MAs(49),r=q.MAs(88);q.xp6(8),q.Oqu(t.pageTitle),q.xp6(8),q.Oqu(t.destination),q.xp6(5),q.Q6J("formGroup",t.MonthlyReturnForm),q.xp6(2),q.Q6J("ngIf",t.role!=t.userRole.ShipStaff&&t.role!=t.userRole.LOEO),q.xp6(8),q.Q6J("ngForOf",t.selectedEquipmentCategory),q.xp6(1),q.Q6J("ngIf",t.MonthlyReturnForm.get("equipmentCategoryId").hasError("required")),q.xp6(8),q.Q6J("ngForOf",t.selectedEquipmentNameByCategory),q.xp6(1),q.Q6J("ngIf",t.MonthlyReturnForm.get("equpmentNameId").hasError("required")),q.xp6(5),q.Q6J("matDatepicker",n),q.xp6(1),q.Q6J("for",n),q.xp6(3),q.Q6J("ngIf",t.MonthlyReturnForm.get("reportingDate").hasError("required")),q.xp6(8),q.Q6J("ngForOf",t.selectedReportingMonth),q.xp6(1),q.Q6J("ngIf",t.MonthlyReturnForm.get("reportingMonthId").hasError("required")),q.xp6(6),q.Q6J("ngIf",t.MonthlyReturnForm.get("damageDescription").hasError("required")),q.xp6(8),q.Q6J("ngForOf",t.selectedReturnType),q.xp6(1),q.Q6J("ngIf",t.MonthlyReturnForm.get("returnTypeId").hasError("required")),q.xp6(6),q.Q6J("ngIf",t.MonthlyReturnForm.get("presentCondition").hasError("required")),q.xp6(5),q.Q6J("matDatepicker",r),q.xp6(1),q.Q6J("for",r),q.xp6(3),q.Q6J("ngIf",t.MonthlyReturnForm.get("timeOfDefect").hasError("required")),q.xp6(15),q.Q6J("ngForOf",t.selectedOperationalStatus),q.xp6(1),q.Q6J("ngIf",t.MonthlyReturnForm.get("operationalStatusId").hasError("required")),q.xp6(3),q.Q6J("disabled",!t.MonthlyReturnForm.valid),q.xp6(1),q.Oqu(t.btnText)}},directives:[p.yS,l._Y,l.JL,l.sg,o.O5,U.KE,U.hX,d.gD,l.JJ,l.u,l.Q7,C.ey,o.sg,k.Nt,l.Fj,N.hl,N.nW,U.R9,N.Mq,Y.Yh,m.Hw,h.lW,U.TO],styles:[""]}),e}(),X=a(58378),W=function(e){return["/ships-return/update-monthly",e]};function K(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"tr"),q.TgZ(1,"td"),q._uU(2),q.qZA(),q.TgZ(3,"td"),q._uU(4),q.qZA(),q.TgZ(5,"td"),q._uU(6),q.qZA(),q.TgZ(7,"td"),q._uU(8),q.qZA(),q.TgZ(9,"td"),q._uU(10),q.qZA(),q.TgZ(11,"td",41),q.TgZ(12,"a",42),q._UZ(13,"i",43),q.qZA(),q.TgZ(14,"button",44),q.TgZ(15,"mat-icon",45),q._uU(16,"edit"),q.qZA(),q.qZA(),q.TgZ(17,"button",46),q.NdJ("click",function(e){return e.stopPropagation()})("click",function(){var e=q.CHM(n).$implicit;return q.oxw().deleteItem(e)}),q.TgZ(18,"mat-icon",47),q._uU(19,"delete"),q.qZA(),q.qZA(),q.qZA(),q.qZA()}if(2&e){var r=t.$implicit;q.xp6(2),q.hij(" ",r.equipmentCategory," "),q.xp6(2),q.hij(" ",r.equpmentName," "),q.xp6(2),q.hij(" ",r.returnType," "),q.xp6(2),q.hij(" ",r.reportingMonth," "),q.xp6(2),q.hij(" ",r.operationalStatus," "),q.xp6(2),q.Q6J("href",r.uploadDocument,q.LSH),q.xp6(2),q.Q6J("routerLink",q.VKq(7,W,r.monthlyReturnId))}}var ee=function(){var e=function(){function e(t,n,r,a){i(this,e),this.snackBar=t,this.MonthlyReturnService=n,this.router=r,this.confirmService=a,this.masterData=f.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.fileUrl="https://localhost:44395/content/",this.showHideDiv=!1,this.itemCount=0,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","authorityName","baseName","baseSchoolName","sqnName","operationalStatus","actions"],this.dataSource=new s.by,this.selection=new X.Ov(!0,[])}return r(e,[{key:"ngOnInit",value:function(){this.getMonthlyReturns()}},{key:"getMonthlyReturns",value:function(){var e=this;this.isLoading=!0,this.MonthlyReturnService.getMonthlyReturns(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(function(t){e.dataSource.data=t.items,e.paging.length=t.totalItemsCount,e.isLoading=!1,console.log(e.dataSource.data),e.itemCount=t.items.length,console.log("itemCountdata"),console.log(e.dataSource.data)})}},{key:"pageChanged",value:function(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getMonthlyReturns()}},{key:"applyFilter",value:function(e){this.searchText=e,this.getMonthlyReturns()}},{key:"toggle",value:function(){this.showHideDiv=!this.showHideDiv}},{key:"printSingle",value:function(){this.showHideDiv=!1,this.print()}},{key:"print",value:function(){var e,t;e=document.getElementById("print-routine").innerHTML,(t=window.open("top=0,left=0,height=100%,width=auto")).document.open(),t.document.write('\n      <html>\n        <head>\n          <style>\n          body{  width: 99%;}\n            label { font-weight: 400;\n                    font-size: 13px;\n                    padding: 2px;\n                    margin-bottom: 5px;\n                  }\n            table, td, th {\n                  border: 1px solid silver;\n                    }\n                    table td {\n                  font-size: 13px;\n                    }\n                    .table.table.tbl-by-group.db-li-s-in tr .cl-action{\n                      display: none;\n                    }\n        \n                    .table.table.tbl-by-group.db-li-s-in tr td .cl-action{\n                      text-align:center;\n                      padding: 0px 5px;\n                    }\n                    \n                  }\n                  .table.table.tbl-by-group.db-li-s-in tr .btn-tbl-edit {\n                    display:none;\n                  }\n                  \n                    \n                    table th {\n                  font-size: 13px;\n                    }\n              table {\n                    border-collapse: collapse;\n                    width: 98%;\n                    }\n                th {\n                    height: 26px;\n                    }\n                .header-text{\n                  text-align:center;\n                }\n                .header-text h3{\n                  margin:0;\n                }\n          </style>\n        </head>\n        <body onload="window.print();window.close()">\n          <div class="header-text">\n          <h3>Ship Info List</h3>\n          \n          </div>\n          <br>\n          <hr>\n          '.concat(e,"\n          \n        </body>\n      </html>")),t.document.close()}},{key:"deleteItem",value:function(e){var t=this,n=e.monthlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(function(e){console.log(e),e&&t.MonthlyReturnService.delete(n).subscribe(function(){t.getMonthlyReturns(),t.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(g.ux),q.Y36(R),q.Y36(p.F0),q.Y36(v.z))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-monthlyreturn-list"]],decls:75,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"count-value"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-raised-button","","color","primary","routerLink","/ships-return/add-monthly",1,"btn-space"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["id","print-routine"],[1,"table","tbl-by-group","db-li-s-in"],[1,"cl-mrk-rmrk"],[1,"cl-mrk"],[1,"cl-mrk-opl"],[1,"cl-action"],[4,"ngFor","ngForOf"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],[1,"col","table-img","img-on-hover"],["target","_blank",3,"href"],["matTooltip","File",1,"far","fa-file-pdf","tbl-pdf"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,t){1&e&&(q.TgZ(0,"section",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"ul",5),q.TgZ(6,"li",6),q.TgZ(7,"h4",7),q._uU(8,"Monthly Return"),q.qZA(),q.qZA(),q.TgZ(9,"li",8),q.TgZ(10,"a",9),q._UZ(11,"i",10),q.qZA(),q.qZA(),q.TgZ(12,"li",11),q.TgZ(13,"a",12),q._uU(14,"Ship Information"),q.qZA(),q.qZA(),q.TgZ(15,"li",13),q._uU(16,"All"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(17,"div",3),q.TgZ(18,"div",14),q.TgZ(19,"div",15),q.TgZ(20,"div",16),q.TgZ(21,"div",17),q.TgZ(22,"div",18),q.TgZ(23,"div",3),q.TgZ(24,"div",19),q.TgZ(25,"ul",20),q.TgZ(26,"li"),q.TgZ(27,"h5",21),q._uU(28),q.qZA(),q.qZA(),q.TgZ(29,"li",22),q.TgZ(30,"input",23,24),q.NdJ("ngModelChange",function(e){return t.searchText=e}),q.qZA(),q.qZA(),q.TgZ(32,"li"),q.TgZ(33,"div",25),q.TgZ(34,"button",26),q.NdJ("click",function(){return t.applyFilter(t.searchText)}),q.TgZ(35,"mat-icon",27),q._uU(36,"search"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"li"),q.TgZ(38,"h3"),q._uU(39," Monthly Return List"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(40,"div",28),q.TgZ(41,"ul",29),q.TgZ(42,"li"),q.TgZ(43,"div",30),q.TgZ(44,"button",31),q._uU(45," Add "),q.TgZ(46,"mat-icon",27),q._uU(47,"add"),q.qZA(),q.qZA(),q.TgZ(48,"button",32),q.NdJ("click",function(){return t.printSingle()}),q.TgZ(49,"mat-icon",27),q._uU(50,"print"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(51,"div",33),q.TgZ(52,"table",34),q.TgZ(53,"thead"),q.TgZ(54,"tr"),q.TgZ(55,"th",35),q.TgZ(56,"h5"),q._uU(57,"Equipment Category"),q.qZA(),q.qZA(),q.TgZ(58,"th",35),q.TgZ(59,"h5"),q._uU(60,"Equipment Name"),q.qZA(),q.qZA(),q.TgZ(61,"th",36),q.TgZ(62,"h5"),q._uU(63,"Return Type"),q.qZA(),q.qZA(),q.TgZ(64,"th",36),q.TgZ(65,"h5"),q._uU(66,"Reporting Month"),q.qZA(),q.qZA(),q.TgZ(67,"th",37),q.TgZ(68,"h5"),q._uU(69," OPL/NON-OPL"),q.qZA(),q.qZA(),q.TgZ(70,"th",38),q._UZ(71,"h5"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(72,"tbody"),q.YNc(73,K,20,9,"tr",39),q.qZA(),q.qZA(),q.qZA(),q.TgZ(74,"mat-paginator",40),q.NdJ("page",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.xp6(28),q.hij("No of Items: - ",t.itemCount,""),q.xp6(2),q.Q6J("ngModel",t.searchText),q.xp6(43),q.Q6J("ngForOf",t.dataSource.data),q.xp6(1),q.Q6J("length",t.paging.length)("showFirstLastButtons",t.masterData.paging.showFirstLastButtons)("pageSize",t.paging.pageSize)("pageSizeOptions",t.masterData.paging.pageSizeOptions))},directives:[p.yS,l.Fj,l.JJ,l.On,h.lW,m.Hw,p.rH,o.sg,c.NW],styles:[""]}),e}(),te=function e(){i(this,e),this.items=[]},ne=function(){var t=function(){function t(e){i(this,t),this.http=e,this.baseUrl=S.N.apiUrl,this.HalfYearlyReturns=[],this.HalfYearlyReturnPagination=new te}return r(t,[{key:"getHalfYearlyReturns",value:function(t,n,r){var i=this,a=new A.LE;return a=(a=(a=a.append("searchText",r.toString())).append("pageNumber",t.toString())).append("pageSize",n.toString()),this.http.get(this.baseUrl+"/half-yearly-return/get-HalfYearlyReturns",{observe:"response",params:a}).pipe((0,x.U)(function(t){return i.HalfYearlyReturns=[].concat(e(i.HalfYearlyReturns),e(t.body.items)),i.HalfYearlyReturnPagination=t.body,i.HalfYearlyReturnPagination}))}},{key:"find",value:function(e){return this.http.get(this.baseUrl+"/half-yearly-return/get-HalfYearlyReturnDetail/"+e)}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){return this.http.get(this.baseUrl+"/base-School-name/get-selectedShipName")}},{key:"getSelectedEquipmentNameByCategory",value:function(e){return this.http.get(this.baseUrl+"/equpment-name/get-selectedEqupmentNameByCategory?equepmentCategoryId="+e)}},{key:"getShipEquipmentInfoListForHalfYearly",value:function(e,t){return this.http.get(this.baseUrl+"/ship-equipment-info/get-shipEquipmentInfoListForHalfYearly?equipmentCategoryId="+e+"&equpmentNameId="+t)}},{key:"getSelectedEquipmentCategory",value:function(){return this.http.get(this.baseUrl+"/equipment-category/get-selectedEquipmentCategory")}},{key:"getSelectedBrand",value:function(){return this.http.get(this.baseUrl+"/brand/get-selectedBrand")}},{key:"update",value:function(e,t){return this.http.put(this.baseUrl+"/half-yearly-return/update-HalfYearlyReturn/"+e,t)}},{key:"submit",value:function(e){return this.http.post(this.baseUrl+"/half-yearly-return/save-HalfYearlyReturn",e)}},{key:"delete",value:function(e){return this.http.delete(this.baseUrl+"/half-yearly-return/delete-HalfYearlyReturn/"+e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(q.LFG(A.eN))},t.\u0275prov=q.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),re=function(e){return["/ships-return/update-halfyearlyreturn",e]};function ie(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"tr"),q.TgZ(1,"td"),q._uU(2),q.qZA(),q.TgZ(3,"td"),q._uU(4),q.qZA(),q.TgZ(5,"td"),q._uU(6),q.qZA(),q.TgZ(7,"td"),q._uU(8),q.qZA(),q.TgZ(9,"td"),q._uU(10),q.qZA(),q.TgZ(11,"td",38),q.TgZ(12,"button",41),q.TgZ(13,"mat-icon",42),q._uU(14,"edit"),q.qZA(),q.qZA(),q.TgZ(15,"button",43),q.NdJ("click",function(e){return e.stopPropagation()})("click",function(){var e=q.CHM(n).$implicit;return q.oxw().deleteItem(e)}),q.TgZ(16,"mat-icon",44),q._uU(17,"delete"),q.qZA(),q.qZA(),q.qZA(),q.qZA()}if(2&e){var r=t.$implicit;q.xp6(2),q.hij(" ",r.equipmentCategory," "),q.xp6(2),q.hij(" ",r.equpmentName," "),q.xp6(2),q.hij(" ",r.inputPowerSupply," "),q.xp6(2),q.hij(" ",r.totalRunningTime," "),q.xp6(2),q.hij(" ",r.powerSupplyUnit," "),q.xp6(2),q.Q6J("routerLink",q.VKq(6,re,r.halfYearlyReturnId))}}var ae=function(){var e=function(){function e(t,n,r,a){i(this,e),this.snackBar=t,this.HalfYearlyReturnService=n,this.router=r,this.confirmService=a,this.masterData=f.O,this.ELEMENT_DATA=[],this.isLoading=!1,this.fileUrl="https://localhost:44395/content/",this.showHideDiv=!1,this.itemCount=0,this.paging={pageIndex:this.masterData.paging.pageIndex,pageSize:this.masterData.paging.pageSize,length:1},this.searchText="",this.displayedColumns=["ser","authorityName","baseName","baseSchoolName","sqnName","operationalStatus","actions"],this.dataSource=new s.by,this.selection=new X.Ov(!0,[])}return r(e,[{key:"ngOnInit",value:function(){this.getHalfYearlyReturns()}},{key:"getHalfYearlyReturns",value:function(){var e=this;this.isLoading=!0,this.HalfYearlyReturnService.getHalfYearlyReturns(this.paging.pageIndex,this.paging.pageSize,this.searchText).subscribe(function(t){e.dataSource.data=t.items,e.paging.length=t.totalItemsCount,e.isLoading=!1,console.log(e.dataSource.data),e.itemCount=t.items.length,console.log("itemCountdata"),console.log(e.dataSource.data)})}},{key:"pageChanged",value:function(e){this.paging.pageIndex=e.pageIndex,this.paging.pageSize=e.pageSize,this.paging.pageIndex=this.paging.pageIndex+1,this.getHalfYearlyReturns()}},{key:"applyFilter",value:function(e){this.searchText=e,this.getHalfYearlyReturns()}},{key:"toggle",value:function(){this.showHideDiv=!this.showHideDiv}},{key:"printSingle",value:function(){this.showHideDiv=!1,this.print()}},{key:"print",value:function(){var e,t;e=document.getElementById("print-routine").innerHTML,(t=window.open("top=0,left=0,height=100%,width=auto")).document.open(),t.document.write('\n      <html>\n        <head>\n          <style>\n          body{  width: 99%;}\n            label { font-weight: 400;\n                    font-size: 13px;\n                    padding: 2px;\n                    margin-bottom: 5px;\n                  }\n            table, td, th {\n                  border: 1px solid silver;\n                    }\n                    table td {\n                  font-size: 13px;\n                    }\n                    .table.table.tbl-by-group.db-li-s-in tr .cl-action{\n                      display: none;\n                    }\n        \n                    .table.table.tbl-by-group.db-li-s-in tr td .cl-action{\n                      text-align:center;\n                      padding: 0px 5px;\n                    }\n                    \n                  }\n                  .table.table.tbl-by-group.db-li-s-in tr .btn-tbl-edit {\n                    display:none;\n                  }\n                  \n                    \n                    table th {\n                  font-size: 13px;\n                    }\n              table {\n                    border-collapse: collapse;\n                    width: 98%;\n                    }\n                th {\n                    height: 26px;\n                    }\n                .header-text{\n                  text-align:center;\n                }\n                .header-text h3{\n                  margin:0;\n                }\n          </style>\n        </head>\n        <body onload="window.print();window.close()">\n          <div class="header-text">\n          <h3>Half Yearly Return List </h3>\n          \n          </div>\n          <br>\n          <hr>\n          '.concat(e,"\n          \n        </body>\n      </html>")),t.document.close()}},{key:"deleteItem",value:function(e){var t=this,n=e.halfYearlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(function(e){console.log(e),e&&t.HalfYearlyReturnService.delete(n).subscribe(function(){t.getHalfYearlyReturns(),t.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(g.ux),q.Y36(ne),q.Y36(p.F0),q.Y36(v.z))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-halfyearlyreturn-list"]],decls:75,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ml-0"],[1,"count-value"],[1,"dropdown"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"ngModel","ngModelChange"],["filter",""],[1,"icon-button-demo","m-l-10"],["mat-mini-fab","","color","accent",3,"click"],[1,"col-white"],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-raised-button","","color","primary","routerLink","/ships-return/add-halfyearlyreturn",1,"btn-space"],["mat-raised-button","","color","primary",1,"btn-space",3,"click"],["id","print-routine"],[1,"table","tbl-by-group","db-li-s-in"],[1,"cl-mrk-rmrk"],[1,"cl-mrk"],[1,"cl-mrk-opl"],[1,"cl-action"],[4,"ngFor","ngForOf"],[3,"length","showFirstLastButtons","pageSize","pageSizeOptions","page"],["mat-icon-button","","color","accent",1,"btn-tbl-edit",3,"routerLink"],["aria-label","Edit",1,"col-white"],["mat-icon-button","","color","accent",1,"btn-tbl-delete",3,"click"],["aria-label","Delete",1,"col-white"]],template:function(e,t){1&e&&(q.TgZ(0,"section",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"ul",5),q.TgZ(6,"li",6),q.TgZ(7,"h4",7),q._uU(8,"Half Yearly Return"),q.qZA(),q.qZA(),q.TgZ(9,"li",8),q.TgZ(10,"a",9),q._UZ(11,"i",10),q.qZA(),q.qZA(),q.TgZ(12,"li",11),q.TgZ(13,"a",12),q._uU(14,"Half Yearly Return"),q.qZA(),q.qZA(),q.TgZ(15,"li",13),q._uU(16,"All"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(17,"div",3),q.TgZ(18,"div",14),q.TgZ(19,"div",15),q.TgZ(20,"div",16),q.TgZ(21,"div",17),q.TgZ(22,"div",18),q.TgZ(23,"div",3),q.TgZ(24,"div",19),q.TgZ(25,"ul",20),q.TgZ(26,"li"),q.TgZ(27,"h5",21),q._uU(28),q.qZA(),q.qZA(),q.TgZ(29,"li",22),q.TgZ(30,"input",23,24),q.NdJ("ngModelChange",function(e){return t.searchText=e}),q.qZA(),q.qZA(),q.TgZ(32,"li"),q.TgZ(33,"div",25),q.TgZ(34,"button",26),q.NdJ("click",function(){return t.applyFilter(t.searchText)}),q.TgZ(35,"mat-icon",27),q._uU(36,"search"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"li"),q.TgZ(38,"h3"),q._uU(39," Half Yearly Return List"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(40,"div",28),q.TgZ(41,"ul",29),q.TgZ(42,"li"),q.TgZ(43,"div",30),q.TgZ(44,"button",31),q._uU(45," Add "),q.TgZ(46,"mat-icon",27),q._uU(47,"add"),q.qZA(),q.qZA(),q.TgZ(48,"button",32),q.NdJ("click",function(){return t.printSingle()}),q.TgZ(49,"mat-icon",27),q._uU(50,"print"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(51,"div",33),q.TgZ(52,"table",34),q.TgZ(53,"thead"),q.TgZ(54,"tr"),q.TgZ(55,"th",35),q.TgZ(56,"h5"),q._uU(57,"Equipment Category"),q.qZA(),q.qZA(),q.TgZ(58,"th",35),q.TgZ(59,"h5"),q._uU(60,"Equipment Name"),q.qZA(),q.qZA(),q.TgZ(61,"th",36),q.TgZ(62,"h5"),q._uU(63,"Input Power Supply"),q.qZA(),q.qZA(),q.TgZ(64,"th",36),q.TgZ(65,"h5"),q._uU(66,"Total Running Time"),q.qZA(),q.qZA(),q.TgZ(67,"th",37),q.TgZ(68,"h5"),q._uU(69," Power Supply Unit"),q.qZA(),q.qZA(),q.TgZ(70,"th",38),q._UZ(71,"h5"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(72,"tbody"),q.YNc(73,ie,18,8,"tr",39),q.qZA(),q.qZA(),q.qZA(),q.TgZ(74,"mat-paginator",40),q.NdJ("page",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.xp6(28),q.hij("No of Items: - ",t.itemCount,""),q.xp6(2),q.Q6J("ngModel",t.searchText),q.xp6(43),q.Q6J("ngForOf",t.dataSource.data),q.xp6(1),q.Q6J("length",t.paging.length)("showFirstLastButtons",t.masterData.paging.showFirstLastButtons)("pageSize",t.paging.pageSize)("pageSizeOptions",t.masterData.paging.pageSizeOptions))},directives:[p.yS,l.Fj,l.JJ,l.On,h.lW,m.Hw,p.rH,o.sg,c.NW],styles:[""]}),e}();function oe(e,t){if(1&e&&(q.TgZ(0,"mat-option",31),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function le(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Ship Name is required "),q.qZA())}function ue(e,t){if(1&e&&(q.TgZ(0,"div",20),q.TgZ(1,"mat-form-field",21),q.TgZ(2,"mat-label"),q._uU(3,"Ship Name "),q.qZA(),q.TgZ(4,"mat-select",30),q.TgZ(5,"mat-option",23),q._uU(6,"--Select--"),q.qZA(),q.YNc(7,oe,2,2,"mat-option",24),q.qZA(),q.YNc(8,le,2,0,"mat-error",25),q.qZA(),q.qZA()),2&e){var n=q.oxw();q.xp6(7),q.Q6J("ngForOf",n.selectedBaseSchoolName),q.xp6(1),q.Q6J("ngIf",n.HalfYearlyReturnForm.get("baseSchoolNameId").hasError("required"))}}function se(e,t){if(1&e&&(q.TgZ(0,"mat-option",31),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function ce(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Equipment Category is required "),q.qZA())}function ge(e,t){if(1&e&&(q.TgZ(0,"mat-option",31),q._uU(1),q.qZA()),2&e){var n=t.$implicit;q.Q6J("value",n.value),q.xp6(1),q.hij(" ",n.text," ")}}function he(e,t){1&e&&(q.TgZ(0,"mat-error"),q._uU(1," Equipment Name is required "),q.qZA())}function me(e,t){if(1&e&&(q.TgZ(0,"tr",39),q.TgZ(1,"th",40),q._uU(2),q.qZA(),q.TgZ(3,"td",37),q._uU(4),q.qZA(),q.TgZ(5,"td",37),q._uU(6),q.qZA(),q.TgZ(7,"td",37),q._uU(8),q.qZA(),q.TgZ(9,"td",37),q._uU(10),q.qZA(),q.TgZ(11,"td",36),q.TgZ(12,"mat-form-field",21),q._UZ(13,"input",41),q.qZA(),q.qZA(),q.TgZ(14,"td",36),q.TgZ(15,"mat-form-field",21),q._UZ(16,"input",42),q.qZA(),q.qZA(),q.TgZ(17,"td",36),q.TgZ(18,"mat-form-field",21),q._UZ(19,"textarea",43),q.qZA(),q.qZA(),q.TgZ(20,"td",36),q.TgZ(21,"mat-form-field",21),q._UZ(22,"input",44),q.qZA(),q.qZA(),q.qZA()),2&e){var n=t.$implicit,r=t.index,i=q.oxw(2);q.Q6J("formGroup",n),q.xp6(2),q.Oqu(r+1),q.xp6(2),q.AsE(" ",i.getControlLabel(r,"model")," - ",i.getControlLabel(r,"type")," "),q.xp6(2),q.hij(" ",i.getControlLabel(r,"powerSupply")," "),q.xp6(2),q.hij(" ",i.getControlLabel(r,"stateOfEquipment")," "),q.xp6(2),q.hij(" ",i.getControlLabel(r,"qty")," ")}}function de(e,t){if(1&e&&(q.TgZ(0,"div",14),q.TgZ(1,"div",32),q.TgZ(2,"div",16),q.TgZ(3,"div",33),q.TgZ(4,"table",34),q.TgZ(5,"thead"),q.TgZ(6,"tr"),q.TgZ(7,"th",35),q.TgZ(8,"h5"),q._uU(9,"Ser"),q.qZA(),q.qZA(),q.TgZ(10,"th",36),q.TgZ(11,"h5"),q._uU(12,"Model/Type"),q.qZA(),q.qZA(),q.TgZ(13,"th",36),q.TgZ(14,"h5"),q._uU(15,"Input Power Supply"),q.qZA(),q.qZA(),q.TgZ(16,"th",36),q.TgZ(17,"h5"),q._uU(18,"State of Equipment"),q.qZA(),q.qZA(),q.TgZ(19,"th",37),q.TgZ(20,"h5"),q._uU(21,"Qty"),q.qZA(),q.qZA(),q.TgZ(22,"th",36),q.TgZ(23,"h5"),q._uU(24,"Half Yearly Running Time(Hours)"),q.qZA(),q.qZA(),q.TgZ(25,"th",36),q.TgZ(26,"h5"),q._uU(27,"Total Running Time(Hours)"),q.qZA(),q.qZA(),q.TgZ(28,"th",37),q.TgZ(29,"h5"),q._uU(30,"Half Yearly Problem"),q.qZA(),q.qZA(),q.TgZ(31,"th",37),q.TgZ(32,"h5"),q._uU(33,"Power Supply Unit"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(34,"tbody"),q.YNc(35,me,23,7,"tr",38),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e){var n=q.oxw();q.xp6(35),q.Q6J("ngForOf",n.HalfYearlyReturnForm.get("shipEquipmentInfoList").controls)}}var pe,Ze=function(){var e=function(){function e(t,n,r,a,o,l,u){i(this,e),this.snackBar=t,this.authService=n,this.confirmService=r,this.HalfYearlyReturnService=a,this.fb=o,this.router=l,this.route=u,this.userRole=y.u,this.validationErrors=[],this.masterData=f.O,this.ELEMENT_DATA=[],this.showHideDiv=!1,this.isLoading=!1,this.isShown=!1,this.itemCount=0}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.role=this.authService.currentUserValue.role.trim(),this.traineeId=this.authService.currentUserValue.traineeId.trim(),this.branchId=this.authService.currentUserValue.branchId.trim(),console.log(this.role,this.traineeId,this.branchId);var t=this.route.snapshot.paramMap.get("halfYearlyReturnId");t?(this.pageTitle="Edit Half Yearly Return",this.destination="Edit",this.btnText="Update",this.HalfYearlyReturnService.find(+t).subscribe(function(t){e.HalfYearlyReturnForm.patchValue({halfYearlyReturnId:t.halfYearlyReturnId,baseSchoolNameId:t.baseSchoolNameId,equipmentCategoryId:t.equipmentCategoryId,equpmentNameId:t.equpmentNameId,brandId:t.brandId,halfYearlyRunningTime:t.halfYearlyRunningTime,halfYearlyProblem:t.halfYearlyProblem,inputPowerSupply:t.inputPowerSupply,totalRunningTime:t.totalRunningTime,powerSupplyUnit:t.powerSupplyUnit,remarks:t.remarks,menuPosition:t.menuPosition,isActive:t.isActive}),e.onEquipmentCategorySelectionChange()})):(this.pageTitle="Half Yearly Return",this.destination="Add",this.btnText="Save"),this.intitializeForm(),this.role!=this.userRole.ShipStaff&&this.role==this.userRole.LOEO||this.HalfYearlyReturnForm.get("baseSchoolNameId").setValue(this.branchId),this.getSelectedEquipmentCategory(),this.getSelectedBrand(),this.getSelectedSchoolByBranchLevelAndThirdLevel()}},{key:"intitializeForm",value:function(){this.HalfYearlyReturnForm=this.fb.group({halfYearlyReturnId:[0],baseSchoolNameId:[""],equipmentCategoryId:[""],equpmentNameId:[""],brandId:[""],halfYearlyRunningTime:[],halfYearlyProblem:[],inputPowerSupply:[""],totalRunningTime:[],powerSupplyUnit:[""],remarks:[""],menuPosition:[1],isActive:[!0],shipEquipmentInfoList:this.fb.array([this.createHalfYearlyReturnData()])})}},{key:"getControlLabel",value:function(e,t){return this.HalfYearlyReturnForm.get("shipEquipmentInfoList").at(e).get(t).value}},{key:"createHalfYearlyReturnData",value:function(){return this.fb.group({baseSchoolNameId:[""],equipmentCategoryId:[""],equpmentNameId:[""],equipmentCategory:[""],equpmentName:[""],brandId:[""],qty:[""],powerSupply:[""],halfYearlyRunningTime:[],totalRunningTime:[],halfYearlyProblem:[],powerSupplyUnit:[""],model:[""],type:[""],stateOfEquipment:[""]})}},{key:"clearList",value:function(){for(var e=this.HalfYearlyReturnForm.controls.shipEquipmentInfoList;e.length;)e.removeAt(e.length-1);e.clearValidators()}},{key:"getShipEquipmentInfoListonClick",value:function(){for(var e=this.HalfYearlyReturnForm.controls.shipEquipmentInfoList,t=0;t<this.selectedShipEquipmentInfoList.length;t++)e.push(this.createHalfYearlyReturnData()),console.log("selectedShipEquipmentInfoList"),console.log(this.selectedShipEquipmentInfoList);console.log("12"),this.HalfYearlyReturnForm.patchValue({shipEquipmentInfoList:this.selectedShipEquipmentInfoList})}},{key:"getSelectedSchoolByBranchLevelAndThirdLevel",value:function(){var e=this;this.HalfYearlyReturnService.getSelectedSchoolByBranchLevelAndThirdLevel().subscribe(function(t){e.selectedBaseSchoolName=t,console.log(t)})}},{key:"onEquipmentCategorySelectionChange",value:function(){var e=this;this.HalfYearlyReturnService.getSelectedEquipmentNameByCategory(this.HalfYearlyReturnForm.value.equipmentCategoryId).subscribe(function(t){e.selectedEquipmentNameByCategory=t,console.log(t),console.log(t)})}},{key:"onShipEquipmentInfoList",value:function(){var e=this;this.isShown=!0,this.HalfYearlyReturnService.getShipEquipmentInfoListForHalfYearly(this.HalfYearlyReturnForm.value.equipmentCategoryId,this.HalfYearlyReturnForm.value.equpmentNameId).subscribe(function(t){e.selectedShipEquipmentInfoList=t,console.log("EquipmentInfoList"),console.log(e.selectedShipEquipmentInfoList),e.clearList(),e.getShipEquipmentInfoListonClick()})}},{key:"getSelectedEquipmentCategory",value:function(){var e=this;this.HalfYearlyReturnService.getSelectedEquipmentCategory().subscribe(function(t){e.selectedEquipmentCategory=t,console.log(t)})}},{key:"getSelectedBrand",value:function(){var e=this;this.HalfYearlyReturnService.getSelectedBrand().subscribe(function(t){e.selectedBrand=t,console.log(t)})}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate([t])})}},{key:"deleteItem",value:function(e){var t=this,n=e.halfYearlyReturnId;this.confirmService.confirm("Confirm delete message","Are You Sure Delete This  Item?").subscribe(function(e){console.log(e),e&&t.HalfYearlyReturnService.delete(n).subscribe(function(){t.snackBar.open("Information Deleted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-danger"})})})}},{key:"onSubmit",value:function(){var e=this,t=this.HalfYearlyReturnForm.get("halfYearlyReturnId").value;console.log("HalfYearlyReturn.value"),console.log(this.HalfYearlyReturnForm.value),t?this.confirmService.confirm("Confirm Update message","Are You Sure Update This  Item").subscribe(function(n){n&&e.HalfYearlyReturnService.update(+t,e.HalfYearlyReturnForm.value).subscribe(function(t){e.router.navigateByUrl("/ships-return/halfyearlyreturn-list"),e.snackBar.open("Information Updated Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}):this.HalfYearlyReturnService.submit(this.HalfYearlyReturnForm.value).subscribe(function(t){e.router.navigateByUrl("/ships-return/halfyearlyreturn-list"),e.snackBar.open("Information Inserted Successfully ","",{duration:2e3,verticalPosition:"bottom",horizontalPosition:"right",panelClass:"snackbar-success"})},function(t){e.validationErrors=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(g.ux),q.Y36(b.e),q.Y36(v.z),q.Y36(ne),q.Y36(l.qu),q.Y36(p.F0),q.Y36(p.gz))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-new-halfyearlyreturn"]],decls:47,vars:11,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/dashboard/main"],[1,"fas","fa-home"],[1,"breadcrumb-item","bcrumb-2"],["href","#","onClick","return false;"],[1,"breadcrumb-item","active"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-12 mb-2",4,"ngIf"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","equipmentCategoryId","required","",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","equpmentNameId","required","",3,"selectionChange"],["class","row clearfix",4,"ngIf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["formControlName","baseSchoolNameId","required",""],[3,"value"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p-0","ex-mrk-entry-li"],[1,"body","table-responsive"],[1,"table","ex-mrk-entry","issue-res"],[1,"cl-srl"],[1,"cl-mrk"],[1,"cl-nm-rnk"],[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["scope","row",1,"cl-srl"],["matInput","","type","text","formControlName","halfYearlyRunningTime"],["matInput","","type","text","formControlName","totalRunningTime"],["matInput","","type","text","formControlName","halfYearlyProblem"],["matInput","","type","text","formControlName","powerSupplyUnit"]],template:function(e,t){1&e&&(q.TgZ(0,"section",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"ul",5),q.TgZ(6,"li",6),q.TgZ(7,"h4",7),q._uU(8),q.qZA(),q.qZA(),q.TgZ(9,"li",8),q.TgZ(10,"a",9),q._UZ(11,"i",10),q.qZA(),q.qZA(),q.TgZ(12,"li",11),q.TgZ(13,"a",12),q._uU(14,"Half Yearly Return"),q.qZA(),q.qZA(),q.TgZ(15,"li",13),q._uU(16),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(17,"div",14),q.TgZ(18,"div",15),q.TgZ(19,"div",16),q.TgZ(20,"div",17),q.TgZ(21,"form",18),q.NdJ("ngSubmit",function(){return t.onSubmit()}),q.TgZ(22,"div",3),q.YNc(23,ue,9,2,"div",19),q.TgZ(24,"div",20),q.TgZ(25,"mat-form-field",21),q.TgZ(26,"mat-label"),q._uU(27,"Equipment Category "),q.qZA(),q.TgZ(28,"mat-select",22),q.NdJ("selectionChange",function(){return t.onEquipmentCategorySelectionChange()}),q.TgZ(29,"mat-option",23),q._uU(30,"--Select--"),q.qZA(),q.YNc(31,se,2,2,"mat-option",24),q.qZA(),q.YNc(32,ce,2,0,"mat-error",25),q.qZA(),q.qZA(),q.TgZ(33,"div",20),q.TgZ(34,"mat-form-field",21),q.TgZ(35,"mat-label"),q._uU(36,"Equipment Name "),q.qZA(),q.TgZ(37,"mat-select",26),q.NdJ("selectionChange",function(){return t.onShipEquipmentInfoList()}),q.TgZ(38,"mat-option",23),q._uU(39,"--Select--"),q.qZA(),q.YNc(40,ge,2,2,"mat-option",24),q.qZA(),q.YNc(41,he,2,0,"mat-error",25),q.qZA(),q.qZA(),q.YNc(42,de,36,1,"div",27),q.qZA(),q.TgZ(43,"div",3),q.TgZ(44,"div",28),q.TgZ(45,"button",29),q._uU(46),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.xp6(8),q.Oqu(t.pageTitle),q.xp6(8),q.Oqu(t.destination),q.xp6(5),q.Q6J("formGroup",t.HalfYearlyReturnForm),q.xp6(2),q.Q6J("ngIf",t.role!=t.userRole.ShipStaff&&t.role!=t.userRole.LOEO),q.xp6(8),q.Q6J("ngForOf",t.selectedEquipmentCategory),q.xp6(1),q.Q6J("ngIf",t.HalfYearlyReturnForm.get("equipmentCategoryId").hasError("required")),q.xp6(8),q.Q6J("ngForOf",t.selectedEquipmentNameByCategory),q.xp6(1),q.Q6J("ngIf",t.HalfYearlyReturnForm.get("equpmentNameId").hasError("required")),q.xp6(1),q.Q6J("ngIf",t.isShown),q.xp6(3),q.Q6J("disabled",!t.HalfYearlyReturnForm.valid),q.xp6(1),q.Oqu(t.btnText))},directives:[p.yS,l._Y,l.JL,l.sg,o.O5,U.KE,U.hX,d.gD,l.JJ,l.u,l.Q7,C.ey,o.sg,h.lW,U.TO,k.Nt,l.Fj],styles:[""]}),e}(),fe=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"monthlyreturn-list",component:ee},{path:"update-monthly/:damageElectricalId",component:G},{path:"add-monthly",component:G},{path:"halfyearlyreturn-list",component:ae},{path:"update-halfyearlyreturn/:halfYearlyReturnId",component:Ze},{path:"add-halfyearlyreturn",component:Ze},{path:"**",component:Z.J}],ye=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=q.oAB({type:e}),e.\u0275inj=q.cJS({imports:[[p.Bz.forChild(fe)],p.Bz]}),e}(),qe=a(44716),be=a(87672),Te=a(79961),ve=((pe=function e(){i(this,e)}).\u0275fac=function(e){return new(e||pe)},pe.\u0275mod=q.oAB({type:pe}),pe.\u0275inj=q.cJS({imports:[[o.ez,ye,o.ez,l.u5,l.UX,u.xD,s.p0,c.TU,U.lN,k.c,qe.T5,g.ZX,h.ot,m.Ps,d.LD,N.FA,C.XK,Y.Ad,be.Cq,A.JF,Te.Bb]]}),pe)}}])}();